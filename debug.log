
--------------------------------------------------------------------------------
-- Begin ConvertFrom-StencilTemplate
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Convert-StringToToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Get-TagStyle
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Get-TagStyle
--------------------------------------------------------------------------------
Template is 521 characters
Template contains 32 lines

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 0
Setting Start Column => 0
Setting Start Line => 0

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 000 ====================================
Current line: '<%\#\ code:\ language=eps\ \#%>'
Split line into 4 words
-- {{{ -Word------------------------------------------------------------------------------
- Content is empty
- Lexeme is [<%#]
-- Scanning current word '<%\#' ----------------------------------------
| <%# code: language=eps #%>
| ^
-- {{{ --
| This is word (0) scanned so far
|- Index:     0
|- Line:      0
|- Cursor:    0
|- Column:    0
|- ---
|- Start:    Line: 0:0 - Index 0]
|- End:      Line: 0:0 - Index 0]
|- ---
|- Word index in this line: 0 of 4
|- Previous word:  []
|- Current word:   [<%#] <---
|- Next word:      [code:]
|- ---
|- State:     TEXT
|- Content:   []
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Start tag  ---------------------------------------------------------------
- Characters found after start tag
Characters found is a Prefix
Check condition when state is TEXT
-- {{{ START TAG :: default ---------------------------------------------------------------
Content is empty

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 0
Setting Start Column => 0
Setting Start Line => 0

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 0
After adding lexeme length : 3

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 3

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------
STATE CHANGE: TEXT -> OPEN
- Store current word as prevWord
- Increment word count
Finished scanning word [<%#]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Content is empty
- Lexeme is [code:]
-- Scanning current word 'code:' ----------------------------------------
| <%# code: language=eps #%>
| --^
-- {{{ --
| This is word (1) scanned so far
|- Index:     1
|- Line:      0
|- Cursor:    3
|- Column:    3
|- ---
|- Start:    Line: 0:0 - Index 0]
|- End:      Line: 0:0 - Index 0]
|- ---
|- Word index in this line: 1 of 4
|- Previous word:  [<%#]
|- Current word:   [code:] <---
|- Next word:      [language=eps]
|- ---
|- State:     OPEN
|- Content:   []
|- Prefix:    [#]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is OPEN
STATE CHANGE: OPEN -> ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 3
After adding lexeme length : 8

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 3
After adding lexeme length : 8

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [code:]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ language=eps]
-- Scanning current word 'language=eps' ----------------------------------------
| <%# code: language=eps #%>
| -------^
-- {{{ --
| This is word (2) scanned so far
|- Index:     1
|- Line:      0
|- Cursor:    8
|- Column:    8
|- ---
|- Start:    Line: 0:0 - Index 0]
|- End:      Line: 0:0 - Index 0]
|- ---
|- Word index in this line: 2 of 4
|- Previous word:  [code:]
|- Current word:   [language=eps] <---
|- Next word:      [#%>]
|- ---
|- State:     ELMT
|- Content:   [code:]
|- Prefix:    [#]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 8
After adding lexeme length : 21

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 8
After adding lexeme length : 21

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [language=eps]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ #%>]
-- Scanning current word '\#%>' ----------------------------------------
| <%# code: language=eps #%>
| --------------------^
-- {{{ --
| This is word (3) scanned so far
|- Index:     1
|- Line:      0
|- Cursor:    21
|- Column:    21
|- ---
|- Start:    Line: 0:0 - Index 0]
|- End:      Line: 0:0 - Index 0]
|- ---
|- Word index in this line: 3 of 4
|- Previous word:  [language=eps]
|- Current word:   [#%>] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [code: language=eps]
|- Prefix:    [#]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: End Tag ---------------------------------------------------------
- Characters found before end tag
Characters found is a Suffix
Check condition when state is ELMT
-- {{{ END TAG :: default ---------------------------------------------------------------
- Advance the cursor and column by 4 to the end of the end tag

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 21
After adding lexeme length : 25

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 21
After adding lexeme length : 25

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
'#%>' is the last word in line 0

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 25
Setting End Column => 25
Setting End Line => 0

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = 'code: language=eps'
    End = @{
        Index = 25
        Line = 0
        Column = 25
    }
    RemainingWhiteSpace = ''
    Type = 'elmt'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 0
        Line = 0
        Column = 0
    }
    Indent = ''
    Prefix = '#'
    Suffix = '#'
    Index = 1
}

Creating Token 1: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 18
    Type = 'CMNT'
    Suffix = '#'
    PSTypeName = 'Stencil.TemplateToken.Comment'
    Content = 'code: language=eps'
    Indent = ''
    RemoveIndent = $false
    Start = @{
        Index = 0
        Line = 0
        Column = 0
    }
    Prefix = '#'
    End = @{
        Index = 25
        Line = 0
        Column = 25
    }
    Index = 1
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 25
Setting Start Column => 25
Setting Start Line => 0

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
-------------------------------------------------------------------------}}} --
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [#%>]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 001 ====================================
Current line: '<%-'
Split line into 1 words
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ <%-]
-- Scanning current word '<%-' ----------------------------------------
| <%-
| ^
-- {{{ --
| This is word (4) scanned so far
|- Index:     2
|- Line:      1
|- Cursor:    25
|- Column:    0
|- ---
|- Start:    Line: 0:25 - Index 25]
|- End:      Line: 0:25 - Index 25]
|- ---
|- Word index in this line: 0 of 1
|- Previous word:  [#%>]
|- Current word:   [<%-] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   [
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Start tag  ---------------------------------------------------------------
- Characters found after start tag
Characters found is a Prefix
Check condition when state is CLOSE
-- {{{ START TAG :: default ---------------------------------------------------------------
There is content from the previous block
- Set End position for the previous content before advancing

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 25
Setting End Column => 0
Setting End Line => 1

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = '
'
    End = @{
        Index = 25
        Line = 1
        Column = 0
    }
    RemainingWhiteSpace = ''
    Type = 'text'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 25
        Line = 0
        Column = 25
    }
    Indent = ''
    Prefix = ''
    Suffix = ''
    Index = 2
}

Creating Token 2: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 1
    Type = 'TEXT'
    Suffix = ''
    PSTypeName = 'Stencil.TemplateToken.Text'
    Content = '
'
    Indent = ''
    RemoveIndent = $false
    Start = @{
        Index = 25
        Line = 0
        Column = 25
    }
    Prefix = ''
    End = @{
        Index = 25
        Line = 1
        Column = 0
    }
    Index = 2
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 25
After adding lexeme length : 29

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 4

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 29
Setting Start Column => 4
Setting Start Line => 1

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: CLOSE -> OPEN
- Store current word as prevWord
- Increment word count
Finished scanning word [<%-]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 002 ====================================
Current line: '---'
Split line into 1 words
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ ---]
-- Scanning current word '---' ----------------------------------------
| ---
| ^
-- {{{ --
| This is word (5) scanned so far
|- Index:     3
|- Line:      2
|- Cursor:    29
|- Column:    0
|- ---
|- Start:    Line: 1:4 - Index 29]
|- End:      Line: 1:0 - Index 25]
|- ---
|- Word index in this line: 0 of 1
|- Previous word:  [<%-]
|- Current word:   [---] <---
|- Next word:      []
|- ---
|- State:     OPEN
|- Content:   [
]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is OPEN
STATE CHANGE: OPEN -> ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 29
After adding lexeme length : 33

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 4

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [---]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 003 ====================================
Current line: 'title:\ test\ Template'
Split line into 3 words
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ title:]
-- Scanning current word 'title:' ----------------------------------------
| title: test Template
| ^
-- {{{ --
| This is word (6) scanned so far
|- Index:     3
|- Line:      3
|- Cursor:    33
|- Column:    0
|- ---
|- Start:    Line: 1:4 - Index 29]
|- End:      Line: 1:0 - Index 25]
|- ---
|- Word index in this line: 0 of 3
|- Previous word:  [---]
|- Current word:   [title:] <---
|- Next word:      [test]
|- ---
|- State:     ELMT
|- Content:   [
 ---
]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 33
After adding lexeme length : 40

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 7

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [title:]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ test]
-- Scanning current word 'test' ----------------------------------------
| title: test Template
| ------^
-- {{{ --
| This is word (7) scanned so far
|- Index:     3
|- Line:      3
|- Cursor:    40
|- Column:    7
|- ---
|- Start:    Line: 1:4 - Index 29]
|- End:      Line: 1:0 - Index 25]
|- ---
|- Word index in this line: 1 of 3
|- Previous word:  [title:]
|- Current word:   [test] <---
|- Next word:      [Template]
|- ---
|- State:     ELMT
|- Content:   [
 ---
 title:]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 40
After adding lexeme length : 45

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 7
After adding lexeme length : 12

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [test]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ Template]
-- Scanning current word 'Template' ----------------------------------------
| title: test Template
| -----------^
-- {{{ --
| This is word (8) scanned so far
|- Index:     3
|- Line:      3
|- Cursor:    45
|- Column:    12
|- ---
|- Start:    Line: 1:4 - Index 29]
|- End:      Line: 1:0 - Index 25]
|- ---
|- Word index in this line: 2 of 3
|- Previous word:  [test]
|- Current word:   [Template] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [
 ---
 title: test]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 45
After adding lexeme length : 54

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 12
After adding lexeme length : 21

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [Template]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 004 ====================================
Current line: 'tags:'
Split line into 1 words
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ tags:]
-- Scanning current word 'tags:' ----------------------------------------
| tags:
| ^
-- {{{ --
| This is word (9) scanned so far
|- Index:     3
|- Line:      4
|- Cursor:    54
|- Column:    0
|- ---
|- Start:    Line: 1:4 - Index 29]
|- End:      Line: 1:0 - Index 25]
|- ---
|- Word index in this line: 0 of 1
|- Previous word:  [Template]
|- Current word:   [tags:] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [
 ---
 title: test Template
]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 54
After adding lexeme length : 60

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 6

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [tags:]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 005 ====================================
Current line: '\ \ -\ test'
Split line into 4 words
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
|   - test
| ^
-- {{{ --
| This is word (10) scanned so far
|- Index:     3
|- Line:      5
|- Cursor:    60
|- Column:    0
|- ---
|- Start:    Line: 1:4 - Index 29]
|- End:      Line: 1:0 - Index 25]
|- ---
|- Word index in this line: 0 of 4
|- Previous word:  [tags:]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [
 ---
 title: test Template
 tags:
]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
| MATCH: Null - add a space to content
- space after newline (start indent)
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
|   - test
| ^
-- {{{ --
| This is word (11) scanned so far
|- Index:     3
|- Line:      5
|- Cursor:    60
|- Column:    0
|- ---
|- Start:    Line: 1:4 - Index 29]
|- End:      Line: 1:0 - Index 25]
|- ---
|- Word index in this line: 1 of 4
|- Previous word:  []
|- Current word:   [] <---
|- Next word:      [-]
|- ---
|- State:     ELMT
|- Content:   [
 ---
 title: test Template
 tags:
 ]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
| MATCH: Null - add a space to content
- space after newline (start indent)
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ -]
-- Scanning current word '-' ----------------------------------------
|   - test
| ^
-- {{{ --
| This is word (12) scanned so far
|- Index:     3
|- Line:      5
|- Cursor:    60
|- Column:    0
|- ---
|- Start:    Line: 1:4 - Index 29]
|- End:      Line: 1:0 - Index 25]
|- ---
|- Word index in this line: 2 of 4
|- Previous word:  []
|- Current word:   [-] <---
|- Next word:      [test]
|- ---
|- State:     ELMT
|- Content:   [
 ---
 title: test Template
 tags:
  ]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 60
After adding lexeme length : 62

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 2

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [-]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ test]
-- Scanning current word 'test' ----------------------------------------
|   - test
| -^
-- {{{ --
| This is word (13) scanned so far
|- Index:     3
|- Line:      5
|- Cursor:    62
|- Column:    2
|- ---
|- Start:    Line: 1:4 - Index 29]
|- End:      Line: 1:0 - Index 25]
|- ---
|- Word index in this line: 3 of 4
|- Previous word:  [-]
|- Current word:   [test] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [
 ---
 title: test Template
 tags:
   -]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 62
After adding lexeme length : 67

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 2
After adding lexeme length : 7

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [test]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 006 ====================================
Current line: '---'
Split line into 1 words
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ ---]
-- Scanning current word '---' ----------------------------------------
| ---
| ^
-- {{{ --
| This is word (14) scanned so far
|- Index:     3
|- Line:      6
|- Cursor:    67
|- Column:    0
|- ---
|- Start:    Line: 1:4 - Index 29]
|- End:      Line: 1:0 - Index 25]
|- ---
|- Word index in this line: 0 of 1
|- Previous word:  [test]
|- Current word:   [---] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [
 ---
 title: test Template
 tags:
   - test
]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 67
After adding lexeme length : 71

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 4

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [---]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 007 ====================================
Current line: '%>'
Split line into 1 words
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ %>]
-- Scanning current word '%>' ----------------------------------------
| %>
| ^
-- {{{ --
| This is word (15) scanned so far
|- Index:     3
|- Line:      7
|- Cursor:    71
|- Column:    0
|- ---
|- Start:    Line: 1:4 - Index 29]
|- End:      Line: 1:0 - Index 25]
|- ---
|- Word index in this line: 0 of 1
|- Previous word:  [---]
|- Current word:   [%>] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [
 ---
 title: test Template
 tags:
   - test
 ---
]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: End Tag ---------------------------------------------------------
-- No characters found before end tag
Check condition when state is ELMT
-- {{{ END TAG :: default ---------------------------------------------------------------
- Advance the cursor and column by 3 to the end of the end tag

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 71
After adding lexeme length : 74

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 3

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
'%>' is the last word in line 7

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 74
Setting End Column => 3
Setting End Line => 7

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = '
 ---
 title: test Template
 tags:
   - test
 ---
'
    End = @{
        Index = 74
        Line = 7
        Column = 3
    }
    RemainingWhiteSpace = ''
    Type = 'elmt'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 29
        Line = 1
        Column = 4
    }
    Indent = ''
    Prefix = '-'
    Suffix = ''
    Index = 3
}

Creating Token 3: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 50
    Type = 'FMTR'
    Suffix = ''
    PSTypeName = 'Stencil.TemplateToken.FrontMatter'
    Content = '
 ---
 title: test Template
 tags:
   - test
 ---
'
    Indent = ''
    RemoveIndent = $true
    Start = @{
        Index = 29
        Line = 1
        Column = 4
    }
    Prefix = '-'
    End = @{
        Index = 74
        Line = 7
        Column = 3
    }
    Index = 3
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 74
Setting Start Column => 3
Setting Start Line => 7

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
-------------------------------------------------------------------------}}} --
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [%>]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 008 ====================================
Current line: ''
MATCH  line 8 is empty
Split line into 1 words
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
| 
| ^
-- {{{ --
| This is word (16) scanned so far
|- Index:     4
|- Line:      8
|- Cursor:    74
|- Column:    0
|- ---
|- Start:    Line: 7:3 - Index 74]
|- End:      Line: 7:3 - Index 74]
|- ---
|- Word index in this line: 0 of 1
|- Previous word:  [%>]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   [
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
This is the last word in the line
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 009 ====================================
Current line: '<%---\ What\ should\ this\ be\?\ ---%>'
Split line into 6 words
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ <%---]
-- Scanning current word '<%---' ----------------------------------------
| <%--- What should this be? ---%>
| ^
-- {{{ --
| This is word (17) scanned so far
|- Index:     4
|- Line:      9
|- Cursor:    74
|- Column:    0
|- ---
|- Start:    Line: 7:3 - Index 74]
|- End:      Line: 7:3 - Index 74]
|- ---
|- Word index in this line: 0 of 6
|- Previous word:  []
|- Current word:   [<%---] <---
|- Next word:      [What]
|- ---
|- State:     CLOSE
|- Content:   [

]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Start tag  ---------------------------------------------------------------
- Characters found after start tag
Characters found is a Prefix
Check condition when state is CLOSE
-- {{{ START TAG :: default ---------------------------------------------------------------
There is content from the previous block
- Set End position for the previous content before advancing

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 74
Setting End Column => 0
Setting End Line => 9

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = '

'
    End = @{
        Index = 74
        Line = 9
        Column = 0
    }
    RemainingWhiteSpace = ''
    Type = 'text'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 74
        Line = 7
        Column = 3
    }
    Indent = ''
    Prefix = ''
    Suffix = ''
    Index = 4
}

Creating Token 4: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 2
    Type = 'TEXT'
    Suffix = ''
    PSTypeName = 'Stencil.TemplateToken.Text'
    Content = '

'
    Indent = ''
    RemoveIndent = $false
    Start = @{
        Index = 74
        Line = 7
        Column = 3
    }
    Prefix = ''
    End = @{
        Index = 74
        Line = 9
        Column = 0
    }
    Index = 4
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 74
After adding lexeme length : 80

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 6

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 80
Setting Start Column => 6
Setting Start Line => 9

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: CLOSE -> OPEN
- Store current word as prevWord
- Increment word count
Finished scanning word [<%---]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Content is empty
- Lexeme is [What]
-- Scanning current word 'What' ----------------------------------------
| <%--- What should this be? ---%>
| -----^
-- {{{ --
| This is word (18) scanned so far
|- Index:     5
|- Line:      9
|- Cursor:    80
|- Column:    6
|- ---
|- Start:    Line: 9:6 - Index 80]
|- End:      Line: 9:0 - Index 74]
|- ---
|- Word index in this line: 1 of 6
|- Previous word:  [<%---]
|- Current word:   [What] <---
|- Next word:      [should]
|- ---
|- State:     OPEN
|- Content:   []
|- Prefix:    [---]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is OPEN
STATE CHANGE: OPEN -> ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 80
After adding lexeme length : 84

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 6
After adding lexeme length : 10

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [What]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ should]
-- Scanning current word 'should' ----------------------------------------
| <%--- What should this be? ---%>
| ---------^
-- {{{ --
| This is word (19) scanned so far
|- Index:     5
|- Line:      9
|- Cursor:    84
|- Column:    10
|- ---
|- Start:    Line: 9:6 - Index 80]
|- End:      Line: 9:0 - Index 74]
|- ---
|- Word index in this line: 2 of 6
|- Previous word:  [What]
|- Current word:   [should] <---
|- Next word:      [this]
|- ---
|- State:     ELMT
|- Content:   [What]
|- Prefix:    [---]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 84
After adding lexeme length : 91

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 10
After adding lexeme length : 17

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [should]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ this]
-- Scanning current word 'this' ----------------------------------------
| <%--- What should this be? ---%>
| ----------------^
-- {{{ --
| This is word (20) scanned so far
|- Index:     5
|- Line:      9
|- Cursor:    91
|- Column:    17
|- ---
|- Start:    Line: 9:6 - Index 80]
|- End:      Line: 9:0 - Index 74]
|- ---
|- Word index in this line: 3 of 6
|- Previous word:  [should]
|- Current word:   [this] <---
|- Next word:      [be?]
|- ---
|- State:     ELMT
|- Content:   [What should]
|- Prefix:    [---]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 91
After adding lexeme length : 96

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 17
After adding lexeme length : 22

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [this]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ be?]
-- Scanning current word 'be\?' ----------------------------------------
| <%--- What should this be? ---%>
| ---------------------^
-- {{{ --
| This is word (21) scanned so far
|- Index:     5
|- Line:      9
|- Cursor:    96
|- Column:    22
|- ---
|- Start:    Line: 9:6 - Index 80]
|- End:      Line: 9:0 - Index 74]
|- ---
|- Word index in this line: 4 of 6
|- Previous word:  [this]
|- Current word:   [be?] <---
|- Next word:      [---%>]
|- ---
|- State:     ELMT
|- Content:   [What should this]
|- Prefix:    [---]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 96
After adding lexeme length : 100

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 22
After adding lexeme length : 26

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [be?]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ ---%>]
-- Scanning current word '---%>' ----------------------------------------
| <%--- What should this be? ---%>
| -------------------------^
-- {{{ --
| This is word (22) scanned so far
|- Index:     5
|- Line:      9
|- Cursor:    100
|- Column:    26
|- ---
|- Start:    Line: 9:6 - Index 80]
|- End:      Line: 9:0 - Index 74]
|- ---
|- Word index in this line: 5 of 6
|- Previous word:  [be?]
|- Current word:   [---%>] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [What should this be?]
|- Prefix:    [---]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: End Tag ---------------------------------------------------------
- Characters found before end tag
Characters found is a Suffix
Check condition when state is ELMT
-- {{{ END TAG :: default ---------------------------------------------------------------
- Advance the cursor and column by 6 to the end of the end tag

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 100
After adding lexeme length : 106

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 26
After adding lexeme length : 32

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
'---%>' is the last word in line 9

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 106
Setting End Column => 32
Setting End Line => 9

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = 'What should this be?'
    End = @{
        Index = 106
        Line = 9
        Column = 32
    }
    RemainingWhiteSpace = ''
    Type = 'elmt'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 80
        Line = 9
        Column = 6
    }
    Indent = ''
    Prefix = '---'
    Suffix = '---'
    Index = 5
}

Creating Token 5: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 20
    Type = 'ELMT'
    Suffix = '---'
    PSTypeName = 'Stencil.TemplateToken.Elmt'
    Content = 'What should this be?'
    Indent = ''
    RemoveIndent = $false
    Start = @{
        Index = 80
        Line = 9
        Column = 6
    }
    Prefix = '---'
    End = @{
        Index = 106
        Line = 9
        Column = 32
    }
    Index = 5
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 106
Setting Start Column => 32
Setting Start Line => 9

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
-------------------------------------------------------------------------}}} --
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [---%>]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 010 ====================================
Current line: 'A\ test\ template'
Split line into 3 words
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ A]
-- Scanning current word 'A' ----------------------------------------
| A test template
| ^
-- {{{ --
| This is word (23) scanned so far
|- Index:     6
|- Line:      10
|- Cursor:    106
|- Column:    0
|- ---
|- Start:    Line: 9:32 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 0 of 3
|- Previous word:  [---%>]
|- Current word:   [A] <---
|- Next word:      [test]
|- ---
|- State:     CLOSE
|- Content:   [
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is CLOSE
STATE CHANGE: CLOSE -> TEXT

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 106
Setting Start Column => 0
Setting Start Line => 10

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 106
After adding lexeme length : 108

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 2

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [A]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ test]
-- Scanning current word 'test' ----------------------------------------
| A test template
| -^
-- {{{ --
| This is word (24) scanned so far
|- Index:     6
|- Line:      10
|- Cursor:    108
|- Column:    2
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 1 of 3
|- Previous word:  [A]
|- Current word:   [test] <---
|- Next word:      [template]
|- ---
|- State:     TEXT
|- Content:   [
 A]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 108
After adding lexeme length : 113

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 2
After adding lexeme length : 7

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [test]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ template]
-- Scanning current word 'template' ----------------------------------------
| A test template
| ------^
-- {{{ --
| This is word (25) scanned so far
|- Index:     6
|- Line:      10
|- Cursor:    113
|- Column:    7
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 2 of 3
|- Previous word:  [test]
|- Current word:   [template] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [
 A test]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 113
After adding lexeme length : 122

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 7
After adding lexeme length : 16

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [template]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 011 ====================================
Current line: ''
MATCH  line 11 is empty
Split line into 1 words
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
| 
| ^
-- {{{ --
| This is word (26) scanned so far
|- Index:     6
|- Line:      11
|- Cursor:    122
|- Column:    0
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 0 of 1
|- Previous word:  [template]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [
 A test template
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
This is the last word in the line
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 012 ====================================
Current line: 'this\ should\ output\ the\ start\ marker\ <%%'
Split line into 7 words
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ this]
-- Scanning current word 'this' ----------------------------------------
| this should output the start marker <%%
| ^
-- {{{ --
| This is word (27) scanned so far
|- Index:     6
|- Line:      12
|- Cursor:    122
|- Column:    0
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 0 of 7
|- Previous word:  []
|- Current word:   [this] <---
|- Next word:      [should]
|- ---
|- State:     TEXT
|- Content:   [
 A test template

]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 122
After adding lexeme length : 127

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 5

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [this]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ should]
-- Scanning current word 'should' ----------------------------------------
| this should output the start marker <%%
| ----^
-- {{{ --
| This is word (28) scanned so far
|- Index:     6
|- Line:      12
|- Cursor:    127
|- Column:    5
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 1 of 7
|- Previous word:  [this]
|- Current word:   [should] <---
|- Next word:      [output]
|- ---
|- State:     TEXT
|- Content:   [
 A test template

 this]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 127
After adding lexeme length : 134

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 5
After adding lexeme length : 12

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [should]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ output]
-- Scanning current word 'output' ----------------------------------------
| this should output the start marker <%%
| -----------^
-- {{{ --
| This is word (29) scanned so far
|- Index:     6
|- Line:      12
|- Cursor:    134
|- Column:    12
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 2 of 7
|- Previous word:  [should]
|- Current word:   [output] <---
|- Next word:      [the]
|- ---
|- State:     TEXT
|- Content:   [
 A test template

 this should]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 134
After adding lexeme length : 141

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 12
After adding lexeme length : 19

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [output]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ the]
-- Scanning current word 'the' ----------------------------------------
| this should output the start marker <%%
| ------------------^
-- {{{ --
| This is word (30) scanned so far
|- Index:     6
|- Line:      12
|- Cursor:    141
|- Column:    19
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 3 of 7
|- Previous word:  [output]
|- Current word:   [the] <---
|- Next word:      [start]
|- ---
|- State:     TEXT
|- Content:   [
 A test template

 this should output]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 141
After adding lexeme length : 145

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 19
After adding lexeme length : 23

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [the]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ start]
-- Scanning current word 'start' ----------------------------------------
| this should output the start marker <%%
| ----------------------^
-- {{{ --
| This is word (31) scanned so far
|- Index:     6
|- Line:      12
|- Cursor:    145
|- Column:    23
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 4 of 7
|- Previous word:  [the]
|- Current word:   [start] <---
|- Next word:      [marker]
|- ---
|- State:     TEXT
|- Content:   [
 A test template

 this should output the]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 145
After adding lexeme length : 151

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 23
After adding lexeme length : 29

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [start]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ marker]
-- Scanning current word 'marker' ----------------------------------------
| this should output the start marker <%%
| ----------------------------^
-- {{{ --
| This is word (32) scanned so far
|- Index:     6
|- Line:      12
|- Cursor:    151
|- Column:    29
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 5 of 7
|- Previous word:  [start]
|- Current word:   [marker] <---
|- Next word:      [<%%]
|- ---
|- State:     TEXT
|- Content:   [
 A test template

 this should output the start]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 151
After adding lexeme length : 158

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 29
After adding lexeme length : 36

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [marker]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ <%%]
-- Scanning current word '<%%' ----------------------------------------
| this should output the start marker <%%
| -----------------------------------^
-- {{{ --
| This is word (33) scanned so far
|- Index:     6
|- Line:      12
|- Cursor:    158
|- Column:    36
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 6 of 7
|- Previous word:  [marker]
|- Current word:   [<%%] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [
 A test template

 this should output the start marker]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Start tag  ---------------------------------------------------------------
- Characters found after start tag
** ESCAPED START - Add start tag to content
  - Adding  <%% to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 158
After adding lexeme length : 162

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 36
After adding lexeme length : 40

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 013 ====================================
Current line: ''
MATCH  line 13 is empty
Split line into 1 words
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
| 
| ^
-- {{{ --
| This is word (33) scanned so far
|- Index:     6
|- Line:      13
|- Cursor:    162
|- Column:    0
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 0 of 1
|- Previous word:  [marker]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [
 A test template

 this should output the start marker <%%
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
This is the last word in the line
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 014 ====================================
Current line: 'this\ should\ output\ the\ end\ marker\ %%>'
Split line into 7 words
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ this]
-- Scanning current word 'this' ----------------------------------------
| this should output the end marker %%>
| ^
-- {{{ --
| This is word (34) scanned so far
|- Index:     6
|- Line:      14
|- Cursor:    162
|- Column:    0
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 0 of 7
|- Previous word:  []
|- Current word:   [this] <---
|- Next word:      [should]
|- ---
|- State:     TEXT
|- Content:   [
 A test template

 this should output the start marker <%%

]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 162
After adding lexeme length : 167

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 5

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [this]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ should]
-- Scanning current word 'should' ----------------------------------------
| this should output the end marker %%>
| ----^
-- {{{ --
| This is word (35) scanned so far
|- Index:     6
|- Line:      14
|- Cursor:    167
|- Column:    5
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 1 of 7
|- Previous word:  [this]
|- Current word:   [should] <---
|- Next word:      [output]
|- ---
|- State:     TEXT
|- Content:   [
 A test template

 this should output the start marker <%%

 this]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 167
After adding lexeme length : 174

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 5
After adding lexeme length : 12

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [should]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ output]
-- Scanning current word 'output' ----------------------------------------
| this should output the end marker %%>
| -----------^
-- {{{ --
| This is word (36) scanned so far
|- Index:     6
|- Line:      14
|- Cursor:    174
|- Column:    12
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 2 of 7
|- Previous word:  [should]
|- Current word:   [output] <---
|- Next word:      [the]
|- ---
|- State:     TEXT
|- Content:   [
 A test template

 this should output the start marker <%%

 this should]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 174
After adding lexeme length : 181

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 12
After adding lexeme length : 19

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [output]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ the]
-- Scanning current word 'the' ----------------------------------------
| this should output the end marker %%>
| ------------------^
-- {{{ --
| This is word (37) scanned so far
|- Index:     6
|- Line:      14
|- Cursor:    181
|- Column:    19
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 3 of 7
|- Previous word:  [output]
|- Current word:   [the] <---
|- Next word:      [end]
|- ---
|- State:     TEXT
|- Content:   [
 A test template

 this should output the start marker <%%

 this should output]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 181
After adding lexeme length : 185

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 19
After adding lexeme length : 23

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [the]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ end]
-- Scanning current word 'end' ----------------------------------------
| this should output the end marker %%>
| ----------------------^
-- {{{ --
| This is word (38) scanned so far
|- Index:     6
|- Line:      14
|- Cursor:    185
|- Column:    23
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 4 of 7
|- Previous word:  [the]
|- Current word:   [end] <---
|- Next word:      [marker]
|- ---
|- State:     TEXT
|- Content:   [
 A test template

 this should output the start marker <%%

 this should output the]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 185
After adding lexeme length : 189

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 23
After adding lexeme length : 27

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [end]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ marker]
-- Scanning current word 'marker' ----------------------------------------
| this should output the end marker %%>
| --------------------------^
-- {{{ --
| This is word (39) scanned so far
|- Index:     6
|- Line:      14
|- Cursor:    189
|- Column:    27
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 5 of 7
|- Previous word:  [end]
|- Current word:   [marker] <---
|- Next word:      [%%>]
|- ---
|- State:     TEXT
|- Content:   [
 A test template

 this should output the start marker <%%

 this should output the end]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 189
After adding lexeme length : 196

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 27
After adding lexeme length : 34

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [marker]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ %%>]
-- Scanning current word '%%>' ----------------------------------------
| this should output the end marker %%>
| ---------------------------------^
-- {{{ --
| This is word (40) scanned so far
|- Index:     6
|- Line:      14
|- Cursor:    196
|- Column:    34
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 6 of 7
|- Previous word:  [marker]
|- Current word:   [%%>] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [
 A test template

 this should output the start marker <%%

 this should output the end marker]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: End Tag ---------------------------------------------------------
- Characters found before end tag
ESCAPED END - Add end tag to content
- Adding  %> to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 196
After adding lexeme length : 199

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 34
After adding lexeme length : 37

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
Check condition when state is TEXT
** Error Found end tag without start tag
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [%%>]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 015 ====================================
Current line: ''
MATCH  line 15 is empty
Split line into 1 words
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
| 
| ^
-- {{{ --
| This is word (41) scanned so far
|- Index:     6
|- Line:      15
|- Cursor:    199
|- Column:    0
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 0 of 1
|- Previous word:  [%%>]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [
 A test template

 this should output the start marker <%%

 this should output the end marker %>
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
This is the last word in the line
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 016 ====================================
Current line: '<%\#\ this\ should\ be\ a\ comment\ \#%>'
Split line into 7 words
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ <%#]
-- Scanning current word '<%\#' ----------------------------------------
| <%# this should be a comment #%>
| ^
-- {{{ --
| This is word (42) scanned so far
|- Index:     6
|- Line:      16
|- Cursor:    199
|- Column:    0
|- ---
|- Start:    Line: 10:0 - Index 106]
|- End:      Line: 9:32 - Index 106]
|- ---
|- Word index in this line: 0 of 7
|- Previous word:  []
|- Current word:   [<%#] <---
|- Next word:      [this]
|- ---
|- State:     TEXT
|- Content:   [
 A test template

 this should output the start marker <%%

 this should output the end marker %>

]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Start tag  ---------------------------------------------------------------
- Characters found after start tag
Characters found is a Prefix
Check condition when state is TEXT
-- {{{ START TAG :: default ---------------------------------------------------------------
There is content from the previous block
- Set End position for the previous content before advancing

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 199
Setting End Column => 0
Setting End Line => 16

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = '
 A test template

 this should output the start marker <%%

 this should output the end marker %>

'
    End = @{
        Index = 199
        Line = 16
        Column = 0
    }
    RemainingWhiteSpace = ''
    Type = 'text'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 106
        Line = 10
        Column = 0
    }
    Indent = ''
    Prefix = ''
    Suffix = ''
    Index = 6
}

Creating Token 6: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 100
    Type = 'TEXT'
    Suffix = ''
    PSTypeName = 'Stencil.TemplateToken.Text'
    Content = '
 A test template

 this should output the start marker <%%

 this should output the end marker %>

'
    Indent = ''
    RemoveIndent = $false
    Start = @{
        Index = 106
        Line = 10
        Column = 0
    }
    Prefix = ''
    End = @{
        Index = 199
        Line = 16
        Column = 0
    }
    Index = 6
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 199
After adding lexeme length : 203

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 4

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 203
Setting Start Column => 4
Setting Start Line => 16

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: TEXT -> OPEN
- Store current word as prevWord
- Increment word count
Finished scanning word [<%#]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Content is empty
- Lexeme is [this]
-- Scanning current word 'this' ----------------------------------------
| <%# this should be a comment #%>
| ---^
-- {{{ --
| This is word (43) scanned so far
|- Index:     7
|- Line:      16
|- Cursor:    203
|- Column:    4
|- ---
|- Start:    Line: 16:4 - Index 203]
|- End:      Line: 16:0 - Index 199]
|- ---
|- Word index in this line: 1 of 7
|- Previous word:  [<%#]
|- Current word:   [this] <---
|- Next word:      [should]
|- ---
|- State:     OPEN
|- Content:   []
|- Prefix:    [#]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is OPEN
STATE CHANGE: OPEN -> ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 203
After adding lexeme length : 207

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 4
After adding lexeme length : 8

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [this]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ should]
-- Scanning current word 'should' ----------------------------------------
| <%# this should be a comment #%>
| -------^
-- {{{ --
| This is word (44) scanned so far
|- Index:     7
|- Line:      16
|- Cursor:    207
|- Column:    8
|- ---
|- Start:    Line: 16:4 - Index 203]
|- End:      Line: 16:0 - Index 199]
|- ---
|- Word index in this line: 2 of 7
|- Previous word:  [this]
|- Current word:   [should] <---
|- Next word:      [be]
|- ---
|- State:     ELMT
|- Content:   [this]
|- Prefix:    [#]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 207
After adding lexeme length : 214

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 8
After adding lexeme length : 15

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [should]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ be]
-- Scanning current word 'be' ----------------------------------------
| <%# this should be a comment #%>
| --------------^
-- {{{ --
| This is word (45) scanned so far
|- Index:     7
|- Line:      16
|- Cursor:    214
|- Column:    15
|- ---
|- Start:    Line: 16:4 - Index 203]
|- End:      Line: 16:0 - Index 199]
|- ---
|- Word index in this line: 3 of 7
|- Previous word:  [should]
|- Current word:   [be] <---
|- Next word:      [a]
|- ---
|- State:     ELMT
|- Content:   [this should]
|- Prefix:    [#]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 214
After adding lexeme length : 217

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 15
After adding lexeme length : 18

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [be]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ a]
-- Scanning current word 'a' ----------------------------------------
| <%# this should be a comment #%>
| -----------------^
-- {{{ --
| This is word (46) scanned so far
|- Index:     7
|- Line:      16
|- Cursor:    217
|- Column:    18
|- ---
|- Start:    Line: 16:4 - Index 203]
|- End:      Line: 16:0 - Index 199]
|- ---
|- Word index in this line: 4 of 7
|- Previous word:  [be]
|- Current word:   [a] <---
|- Next word:      [comment]
|- ---
|- State:     ELMT
|- Content:   [this should be]
|- Prefix:    [#]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 217
After adding lexeme length : 219

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 18
After adding lexeme length : 20

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [a]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ comment]
-- Scanning current word 'comment' ----------------------------------------
| <%# this should be a comment #%>
| -------------------^
-- {{{ --
| This is word (47) scanned so far
|- Index:     7
|- Line:      16
|- Cursor:    219
|- Column:    20
|- ---
|- Start:    Line: 16:4 - Index 203]
|- End:      Line: 16:0 - Index 199]
|- ---
|- Word index in this line: 5 of 7
|- Previous word:  [a]
|- Current word:   [comment] <---
|- Next word:      [#%>]
|- ---
|- State:     ELMT
|- Content:   [this should be a]
|- Prefix:    [#]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 219
After adding lexeme length : 227

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 20
After adding lexeme length : 28

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [comment]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ #%>]
-- Scanning current word '\#%>' ----------------------------------------
| <%# this should be a comment #%>
| ---------------------------^
-- {{{ --
| This is word (48) scanned so far
|- Index:     7
|- Line:      16
|- Cursor:    227
|- Column:    28
|- ---
|- Start:    Line: 16:4 - Index 203]
|- End:      Line: 16:0 - Index 199]
|- ---
|- Word index in this line: 6 of 7
|- Previous word:  [comment]
|- Current word:   [#%>] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [this should be a comment]
|- Prefix:    [#]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: End Tag ---------------------------------------------------------
- Characters found before end tag
Characters found is a Suffix
Check condition when state is ELMT
-- {{{ END TAG :: default ---------------------------------------------------------------
- Advance the cursor and column by 4 to the end of the end tag

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 227
After adding lexeme length : 231

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 28
After adding lexeme length : 32

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
'#%>' is the last word in line 16

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 231
Setting End Column => 32
Setting End Line => 16

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = 'this should be a comment'
    End = @{
        Index = 231
        Line = 16
        Column = 32
    }
    RemainingWhiteSpace = ''
    Type = 'elmt'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 203
        Line = 16
        Column = 4
    }
    Indent = ''
    Prefix = '#'
    Suffix = '#'
    Index = 7
}

Creating Token 7: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 24
    Type = 'CMNT'
    Suffix = '#'
    PSTypeName = 'Stencil.TemplateToken.Comment'
    Content = 'this should be a comment'
    Indent = ''
    RemoveIndent = $false
    Start = @{
        Index = 203
        Line = 16
        Column = 4
    }
    Prefix = '#'
    End = @{
        Index = 231
        Line = 16
        Column = 32
    }
    Index = 7
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 231
Setting Start Column => 32
Setting Start Line => 16

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
-------------------------------------------------------------------------}}} --
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [#%>]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 017 ====================================
Current line: ''
MATCH  line 17 is empty
Split line into 1 words
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
| 
| ^
-- {{{ --
| This is word (49) scanned so far
|- Index:     8
|- Line:      17
|- Cursor:    231
|- Column:    0
|- ---
|- Start:    Line: 16:32 - Index 231]
|- End:      Line: 16:32 - Index 231]
|- ---
|- Word index in this line: 0 of 1
|- Previous word:  [#%>]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   [
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
This is the last word in the line
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 018 ====================================
Current line: '\ \ \ \ \ \ \ \ \ \ \ <%-\ BLOCK\ friendly-greeting\ %>'
Split line into 15 words
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
|            <%- BLOCK friendly-greeting %>
| ^
-- {{{ --
| This is word (50) scanned so far
|- Index:     8
|- Line:      18
|- Cursor:    231
|- Column:    0
|- ---
|- Start:    Line: 16:32 - Index 231]
|- End:      Line: 16:32 - Index 231]
|- ---
|- Word index in this line: 0 of 15
|- Previous word:  []
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   [

]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
| MATCH: Null - add a space to content
- space after newline (start indent)
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
|            <%- BLOCK friendly-greeting %>
| ^
-- {{{ --
| This is word (51) scanned so far
|- Index:     8
|- Line:      18
|- Cursor:    231
|- Column:    0
|- ---
|- Start:    Line: 16:32 - Index 231]
|- End:      Line: 16:32 - Index 231]
|- ---
|- Word index in this line: 1 of 15
|- Previous word:  []
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   [

 ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
| MATCH: Null - add a space to content
- space after newline (start indent)
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
|            <%- BLOCK friendly-greeting %>
| ^
-- {{{ --
| This is word (52) scanned so far
|- Index:     8
|- Line:      18
|- Cursor:    231
|- Column:    0
|- ---
|- Start:    Line: 16:32 - Index 231]
|- End:      Line: 16:32 - Index 231]
|- ---
|- Word index in this line: 2 of 15
|- Previous word:  []
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   [

  ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
| MATCH: Null - add a space to content
- space after newline (start indent)
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
|            <%- BLOCK friendly-greeting %>
| ^
-- {{{ --
| This is word (53) scanned so far
|- Index:     8
|- Line:      18
|- Cursor:    231
|- Column:    0
|- ---
|- Start:    Line: 16:32 - Index 231]
|- End:      Line: 16:32 - Index 231]
|- ---
|- Word index in this line: 3 of 15
|- Previous word:  []
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   [

   ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
| MATCH: Null - add a space to content
- space after newline (start indent)
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
|            <%- BLOCK friendly-greeting %>
| ^
-- {{{ --
| This is word (54) scanned so far
|- Index:     8
|- Line:      18
|- Cursor:    231
|- Column:    0
|- ---
|- Start:    Line: 16:32 - Index 231]
|- End:      Line: 16:32 - Index 231]
|- ---
|- Word index in this line: 4 of 15
|- Previous word:  []
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   [

    ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
| MATCH: Null - add a space to content
- space after newline (start indent)
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
|            <%- BLOCK friendly-greeting %>
| ^
-- {{{ --
| This is word (55) scanned so far
|- Index:     8
|- Line:      18
|- Cursor:    231
|- Column:    0
|- ---
|- Start:    Line: 16:32 - Index 231]
|- End:      Line: 16:32 - Index 231]
|- ---
|- Word index in this line: 5 of 15
|- Previous word:  []
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   [

     ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
| MATCH: Null - add a space to content
- space after newline (start indent)
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
|            <%- BLOCK friendly-greeting %>
| ^
-- {{{ --
| This is word (56) scanned so far
|- Index:     8
|- Line:      18
|- Cursor:    231
|- Column:    0
|- ---
|- Start:    Line: 16:32 - Index 231]
|- End:      Line: 16:32 - Index 231]
|- ---
|- Word index in this line: 6 of 15
|- Previous word:  []
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   [

      ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
| MATCH: Null - add a space to content
- space after newline (start indent)
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
|            <%- BLOCK friendly-greeting %>
| ^
-- {{{ --
| This is word (57) scanned so far
|- Index:     8
|- Line:      18
|- Cursor:    231
|- Column:    0
|- ---
|- Start:    Line: 16:32 - Index 231]
|- End:      Line: 16:32 - Index 231]
|- ---
|- Word index in this line: 7 of 15
|- Previous word:  []
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   [

       ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
| MATCH: Null - add a space to content
- space after newline (start indent)
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
|            <%- BLOCK friendly-greeting %>
| ^
-- {{{ --
| This is word (58) scanned so far
|- Index:     8
|- Line:      18
|- Cursor:    231
|- Column:    0
|- ---
|- Start:    Line: 16:32 - Index 231]
|- End:      Line: 16:32 - Index 231]
|- ---
|- Word index in this line: 8 of 15
|- Previous word:  []
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   [

        ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
| MATCH: Null - add a space to content
- space after newline (start indent)
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
|            <%- BLOCK friendly-greeting %>
| ^
-- {{{ --
| This is word (59) scanned so far
|- Index:     8
|- Line:      18
|- Cursor:    231
|- Column:    0
|- ---
|- Start:    Line: 16:32 - Index 231]
|- End:      Line: 16:32 - Index 231]
|- ---
|- Word index in this line: 9 of 15
|- Previous word:  []
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   [

         ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
| MATCH: Null - add a space to content
- space after newline (start indent)
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
|            <%- BLOCK friendly-greeting %>
| ^
-- {{{ --
| This is word (60) scanned so far
|- Index:     8
|- Line:      18
|- Cursor:    231
|- Column:    0
|- ---
|- Start:    Line: 16:32 - Index 231]
|- End:      Line: 16:32 - Index 231]
|- ---
|- Word index in this line: 10 of 15
|- Previous word:  []
|- Current word:   [] <---
|- Next word:      [<%-]
|- ---
|- State:     CLOSE
|- Content:   [

          ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
| MATCH: Null - add a space to content
- space after newline (start indent)
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ <%-]
-- Scanning current word '<%-' ----------------------------------------
|            <%- BLOCK friendly-greeting %>
| ^
-- {{{ --
| This is word (61) scanned so far
|- Index:     8
|- Line:      18
|- Cursor:    231
|- Column:    0
|- ---
|- Start:    Line: 16:32 - Index 231]
|- End:      Line: 16:32 - Index 231]
|- ---
|- Word index in this line: 11 of 15
|- Previous word:  []
|- Current word:   [<%-] <---
|- Next word:      [BLOCK]
|- ---
|- State:     CLOSE
|- Content:   [

           ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Start tag  ---------------------------------------------------------------
- Characters found after start tag
Characters found is a Prefix
Check condition when state is CLOSE
-- {{{ START TAG :: default ---------------------------------------------------------------
There is content from the previous block
- Set End position for the previous content before advancing

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 231
Setting End Column => 0
Setting End Line => 18

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = '

           '
    End = @{
        Index = 231
        Line = 18
        Column = 0
    }
    RemainingWhiteSpace = ''
    Type = 'text'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 231
        Line = 16
        Column = 32
    }
    Indent = ' '
    Prefix = ''
    Suffix = ''
    Index = 8
}

Creating Token 8: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 13
    Type = 'TEXT'
    Suffix = ''
    PSTypeName = 'Stencil.TemplateToken.Text'
    Content = '

           '
    Indent = ' '
    RemoveIndent = $false
    Start = @{
        Index = 231
        Line = 16
        Column = 32
    }
    Prefix = ''
    End = @{
        Index = 231
        Line = 18
        Column = 0
    }
    Index = 8
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 231
After adding lexeme length : 235

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 4

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 235
Setting Start Column => 4
Setting Start Line => 18

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: CLOSE -> OPEN
- Store current word as prevWord
- Increment word count
Finished scanning word [<%-]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Content is empty
- Lexeme is [BLOCK]
-- Scanning current word 'BLOCK' ----------------------------------------
|            <%- BLOCK friendly-greeting %>
| ---^
-- {{{ --
| This is word (62) scanned so far
|- Index:     9
|- Line:      18
|- Cursor:    235
|- Column:    4
|- ---
|- Start:    Line: 18:4 - Index 235]
|- End:      Line: 18:0 - Index 231]
|- ---
|- Word index in this line: 12 of 15
|- Previous word:  [<%-]
|- Current word:   [BLOCK] <---
|- Next word:      [friendly-greeting]
|- ---
|- State:     OPEN
|- Content:   []
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is OPEN
STATE CHANGE: OPEN -> ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 235
After adding lexeme length : 240

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 4
After adding lexeme length : 9

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [BLOCK]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ friendly-greeting]
-- Scanning current word 'friendly-greeting' ----------------------------------------
|            <%- BLOCK friendly-greeting %>
| --------^
-- {{{ --
| This is word (63) scanned so far
|- Index:     9
|- Line:      18
|- Cursor:    240
|- Column:    9
|- ---
|- Start:    Line: 18:4 - Index 235]
|- End:      Line: 18:0 - Index 231]
|- ---
|- Word index in this line: 13 of 15
|- Previous word:  [BLOCK]
|- Current word:   [friendly-greeting] <---
|- Next word:      [%>]
|- ---
|- State:     ELMT
|- Content:   [BLOCK]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 240
After adding lexeme length : 258

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 9
After adding lexeme length : 27

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [friendly-greeting]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ %>]
-- Scanning current word '%>' ----------------------------------------
|            <%- BLOCK friendly-greeting %>
| --------------------------^
-- {{{ --
| This is word (64) scanned so far
|- Index:     9
|- Line:      18
|- Cursor:    258
|- Column:    27
|- ---
|- Start:    Line: 18:4 - Index 235]
|- End:      Line: 18:0 - Index 231]
|- ---
|- Word index in this line: 14 of 15
|- Previous word:  [friendly-greeting]
|- Current word:   [%>] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [BLOCK friendly-greeting]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: End Tag ---------------------------------------------------------
-- No characters found before end tag
Check condition when state is ELMT
-- {{{ END TAG :: default ---------------------------------------------------------------
- Advance the cursor and column by 3 to the end of the end tag

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 258
After adding lexeme length : 261

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 27
After adding lexeme length : 30

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
'%>' is the last word in line 18

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 261
Setting End Column => 30
Setting End Line => 18

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = 'BLOCK friendly-greeting'
    End = @{
        Index = 261
        Line = 18
        Column = 30
    }
    RemainingWhiteSpace = ''
    Type = 'elmt'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 235
        Line = 18
        Column = 4
    }
    Indent = ''
    Prefix = '-'
    Suffix = ''
    Index = 9
}

Creating Token 9: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 23
    Type = 'ELMT'
    Suffix = ''
    PSTypeName = 'Stencil.TemplateToken.Elmt'
    Content = 'BLOCK friendly-greeting'
    Indent = ''
    RemoveIndent = $true
    Start = @{
        Index = 235
        Line = 18
        Column = 4
    }
    Prefix = '-'
    End = @{
        Index = 261
        Line = 18
        Column = 30
    }
    Index = 9
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 261
Setting Start Column => 30
Setting Start Line => 18

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
-------------------------------------------------------------------------}}} --
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [%>]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 019 ====================================
Current line: ''
MATCH  line 19 is empty
Split line into 1 words
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
| 
| ^
-- {{{ --
| This is word (65) scanned so far
|- Index:     10
|- Line:      19
|- Cursor:    261
|- Column:    0
|- ---
|- Start:    Line: 18:30 - Index 261]
|- End:      Line: 18:30 - Index 261]
|- ---
|- Word index in this line: 0 of 1
|- Previous word:  [%>]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   [
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
This is the last word in the line
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 020 ====================================
Current line: 'This\ should\ say\ 'Hello\ World!'\ :\ <%=\ \$Greeting\ %>\ World!'
Split line into 10 words
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ This]
-- Scanning current word 'This' ----------------------------------------
| This should say 'Hello World!' : <%= $Greeting %> World!
| ^
-- {{{ --
| This is word (66) scanned so far
|- Index:     10
|- Line:      20
|- Cursor:    261
|- Column:    0
|- ---
|- Start:    Line: 18:30 - Index 261]
|- End:      Line: 18:30 - Index 261]
|- ---
|- Word index in this line: 0 of 10
|- Previous word:  []
|- Current word:   [This] <---
|- Next word:      [should]
|- ---
|- State:     CLOSE
|- Content:   [

]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is CLOSE
STATE CHANGE: CLOSE -> TEXT

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 261
Setting Start Column => 0
Setting Start Line => 20

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 261
After adding lexeme length : 266

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 5

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [This]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ should]
-- Scanning current word 'should' ----------------------------------------
| This should say 'Hello World!' : <%= $Greeting %> World!
| ----^
-- {{{ --
| This is word (67) scanned so far
|- Index:     10
|- Line:      20
|- Cursor:    266
|- Column:    5
|- ---
|- Start:    Line: 20:0 - Index 261]
|- End:      Line: 18:30 - Index 261]
|- ---
|- Word index in this line: 1 of 10
|- Previous word:  [This]
|- Current word:   [should] <---
|- Next word:      [say]
|- ---
|- State:     TEXT
|- Content:   [

 This]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 266
After adding lexeme length : 273

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 5
After adding lexeme length : 12

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [should]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ say]
-- Scanning current word 'say' ----------------------------------------
| This should say 'Hello World!' : <%= $Greeting %> World!
| -----------^
-- {{{ --
| This is word (68) scanned so far
|- Index:     10
|- Line:      20
|- Cursor:    273
|- Column:    12
|- ---
|- Start:    Line: 20:0 - Index 261]
|- End:      Line: 18:30 - Index 261]
|- ---
|- Word index in this line: 2 of 10
|- Previous word:  [should]
|- Current word:   [say] <---
|- Next word:      ['Hello]
|- ---
|- State:     TEXT
|- Content:   [

 This should]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 273
After adding lexeme length : 277

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 12
After adding lexeme length : 16

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [say]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ 'Hello]
-- Scanning current word ''Hello' ----------------------------------------
| This should say 'Hello World!' : <%= $Greeting %> World!
| ---------------^
-- {{{ --
| This is word (69) scanned so far
|- Index:     10
|- Line:      20
|- Cursor:    277
|- Column:    16
|- ---
|- Start:    Line: 20:0 - Index 261]
|- End:      Line: 18:30 - Index 261]
|- ---
|- Word index in this line: 3 of 10
|- Previous word:  [say]
|- Current word:   ['Hello] <---
|- Next word:      [World!']
|- ---
|- State:     TEXT
|- Content:   [

 This should say]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 277
After adding lexeme length : 284

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 16
After adding lexeme length : 23

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word ['Hello]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ World!']
-- Scanning current word 'World!'' ----------------------------------------
| This should say 'Hello World!' : <%= $Greeting %> World!
| ----------------------^
-- {{{ --
| This is word (70) scanned so far
|- Index:     10
|- Line:      20
|- Cursor:    284
|- Column:    23
|- ---
|- Start:    Line: 20:0 - Index 261]
|- End:      Line: 18:30 - Index 261]
|- ---
|- Word index in this line: 4 of 10
|- Previous word:  ['Hello]
|- Current word:   [World!'] <---
|- Next word:      [:]
|- ---
|- State:     TEXT
|- Content:   [

 This should say 'Hello]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 284
After adding lexeme length : 292

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 23
After adding lexeme length : 31

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [World!']
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ :]
-- Scanning current word ':' ----------------------------------------
| This should say 'Hello World!' : <%= $Greeting %> World!
| ------------------------------^
-- {{{ --
| This is word (71) scanned so far
|- Index:     10
|- Line:      20
|- Cursor:    292
|- Column:    31
|- ---
|- Start:    Line: 20:0 - Index 261]
|- End:      Line: 18:30 - Index 261]
|- ---
|- Word index in this line: 5 of 10
|- Previous word:  [World!']
|- Current word:   [:] <---
|- Next word:      [<%=]
|- ---
|- State:     TEXT
|- Content:   [

 This should say 'Hello World!']
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 292
After adding lexeme length : 294

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 31
After adding lexeme length : 33

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [:]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ <%=]
-- Scanning current word '<%=' ----------------------------------------
| This should say 'Hello World!' : <%= $Greeting %> World!
| --------------------------------^
-- {{{ --
| This is word (72) scanned so far
|- Index:     10
|- Line:      20
|- Cursor:    294
|- Column:    33
|- ---
|- Start:    Line: 20:0 - Index 261]
|- End:      Line: 18:30 - Index 261]
|- ---
|- Word index in this line: 6 of 10
|- Previous word:  [:]
|- Current word:   [<%=] <---
|- Next word:      [$Greeting]
|- ---
|- State:     TEXT
|- Content:   [

 This should say 'Hello World!' :]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Start tag  ---------------------------------------------------------------
- Characters found after start tag
Characters found is a Prefix
Check condition when state is TEXT
-- {{{ START TAG :: default ---------------------------------------------------------------
There is content from the previous block
- Set End position for the previous content before advancing

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 294
Setting End Column => 33
Setting End Line => 20

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = '

 This should say ''Hello World!'' :'
    End = @{
        Index = 294
        Line = 20
        Column = 33
    }
    RemainingWhiteSpace = ''
    Type = 'text'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 261
        Line = 20
        Column = 0
    }
    Indent = ''
    Prefix = ''
    Suffix = ''
    Index = 10
}

Creating Token 10: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 35
    Type = 'TEXT'
    Suffix = ''
    PSTypeName = 'Stencil.TemplateToken.Text'
    Content = '

 This should say ''Hello World!'' :'
    Indent = ''
    RemoveIndent = $false
    Start = @{
        Index = 261
        Line = 20
        Column = 0
    }
    Prefix = ''
    End = @{
        Index = 294
        Line = 20
        Column = 33
    }
    Index = 10
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 294
After adding lexeme length : 298

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 33
After adding lexeme length : 37

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 298
Setting Start Column => 37
Setting Start Line => 20

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: TEXT -> OPEN
- Store current word as prevWord
- Increment word count
Finished scanning word [<%=]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Content is empty
- Lexeme is [$Greeting]
-- Scanning current word '\$Greeting' ----------------------------------------
| This should say 'Hello World!' : <%= $Greeting %> World!
| ------------------------------------^
-- {{{ --
| This is word (73) scanned so far
|- Index:     11
|- Line:      20
|- Cursor:    298
|- Column:    37
|- ---
|- Start:    Line: 20:37 - Index 298]
|- End:      Line: 20:33 - Index 294]
|- ---
|- Word index in this line: 7 of 10
|- Previous word:  [<%=]
|- Current word:   [$Greeting] <---
|- Next word:      [%>]
|- ---
|- State:     OPEN
|- Content:   []
|- Prefix:    [=]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is OPEN
STATE CHANGE: OPEN -> ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 298
After adding lexeme length : 307

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 37
After adding lexeme length : 46

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [$Greeting]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ %>]
-- Scanning current word '%>' ----------------------------------------
| This should say 'Hello World!' : <%= $Greeting %> World!
| ---------------------------------------------^
-- {{{ --
| This is word (74) scanned so far
|- Index:     11
|- Line:      20
|- Cursor:    307
|- Column:    46
|- ---
|- Start:    Line: 20:37 - Index 298]
|- End:      Line: 20:33 - Index 294]
|- ---
|- Word index in this line: 8 of 10
|- Previous word:  [$Greeting]
|- Current word:   [%>] <---
|- Next word:      [World!]
|- ---
|- State:     ELMT
|- Content:   [$Greeting]
|- Prefix:    [=]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: End Tag ---------------------------------------------------------
-- No characters found before end tag
Check condition when state is ELMT
-- {{{ END TAG :: default ---------------------------------------------------------------
- Advance the cursor and column by 3 to the end of the end tag

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 307
After adding lexeme length : 310

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 46
After adding lexeme length : 49

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
Remaining words on this line are 'l'

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 310
Setting End Column => 49
Setting End Line => 20

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = '$Greeting'
    End = @{
        Index = 310
        Line = 20
        Column = 49
    }
    RemainingWhiteSpace = ''
    Type = 'elmt'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 298
        Line = 20
        Column = 37
    }
    Indent = ''
    Prefix = '='
    Suffix = ''
    Index = 11
}

Creating Token 11: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 9
    Type = 'STMT'
    Suffix = ''
    PSTypeName = 'Stencil.TemplateToken.Statement'
    Content = '$Greeting'
    Indent = ''
    RemoveIndent = $false
    Start = @{
        Index = 298
        Line = 20
        Column = 37
    }
    Prefix = '='
    End = @{
        Index = 310
        Line = 20
        Column = 49
    }
    Index = 11
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 310
Setting Start Column => 49
Setting Start Line => 20

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
-------------------------------------------------------------------------}}} --
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [%>]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- Content is empty
- Lexeme is [World!]
-- Scanning current word 'World!' ----------------------------------------
| This should say 'Hello World!' : <%= $Greeting %> World!
| ------------------------------------------------^
-- {{{ --
| This is word (75) scanned so far
|- Index:     12
|- Line:      20
|- Cursor:    310
|- Column:    49
|- ---
|- Start:    Line: 20:49 - Index 310]
|- End:      Line: 20:49 - Index 310]
|- ---
|- Word index in this line: 9 of 10
|- Previous word:  [%>]
|- Current word:   [World!] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   []
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is CLOSE
STATE CHANGE: CLOSE -> TEXT

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 310
Setting Start Column => 49
Setting Start Line => 20

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 310
After adding lexeme length : 316

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 49
After adding lexeme length : 55

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [World!]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 021 ====================================
Current line: ''
MATCH  line 21 is empty
Split line into 1 words
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
| 
| ^
-- {{{ --
| This is word (76) scanned so far
|- Index:     12
|- Line:      21
|- Cursor:    316
|- Column:    0
|- ---
|- Start:    Line: 20:49 - Index 310]
|- End:      Line: 20:49 - Index 310]
|- ---
|- Word index in this line: 0 of 1
|- Previous word:  [World!]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [World!
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
This is the last word in the line
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 022 ====================================
Current line: '<%\ END\ %>'
Split line into 3 words
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ <%]
-- Scanning current word '<%' ----------------------------------------
| <% END %>
| ^
-- {{{ --
| This is word (77) scanned so far
|- Index:     12
|- Line:      22
|- Cursor:    316
|- Column:    0
|- ---
|- Start:    Line: 20:49 - Index 310]
|- End:      Line: 20:49 - Index 310]
|- ---
|- Word index in this line: 0 of 3
|- Previous word:  []
|- Current word:   [<%] <---
|- Next word:      [END]
|- ---
|- State:     TEXT
|- Content:   [World!

]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Start tag  ---------------------------------------------------------------
-- No characters found after start tag
Check condition when state is TEXT
-- {{{ START TAG :: default ---------------------------------------------------------------
There is content from the previous block
- Set End position for the previous content before advancing

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 316
Setting End Column => 0
Setting End Line => 22

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = 'World!

'
    End = @{
        Index = 316
        Line = 22
        Column = 0
    }
    RemainingWhiteSpace = ''
    Type = 'text'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 310
        Line = 20
        Column = 49
    }
    Indent = ''
    Prefix = ''
    Suffix = ''
    Index = 12
}

Creating Token 12: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 8
    Type = 'TEXT'
    Suffix = ''
    PSTypeName = 'Stencil.TemplateToken.Text'
    Content = 'World!

'
    Indent = ''
    RemoveIndent = $false
    Start = @{
        Index = 310
        Line = 20
        Column = 49
    }
    Prefix = ''
    End = @{
        Index = 316
        Line = 22
        Column = 0
    }
    Index = 12
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 316
After adding lexeme length : 319

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 3

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 319
Setting Start Column => 3
Setting Start Line => 22

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: TEXT -> OPEN
- Store current word as prevWord
- Increment word count
Finished scanning word [<%]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Content is empty
- Lexeme is [END]
-- Scanning current word 'END' ----------------------------------------
| <% END %>
| --^
-- {{{ --
| This is word (78) scanned so far
|- Index:     13
|- Line:      22
|- Cursor:    319
|- Column:    3
|- ---
|- Start:    Line: 22:3 - Index 319]
|- End:      Line: 22:0 - Index 316]
|- ---
|- Word index in this line: 1 of 3
|- Previous word:  [<%]
|- Current word:   [END] <---
|- Next word:      [%>]
|- ---
|- State:     OPEN
|- Content:   []
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is OPEN
STATE CHANGE: OPEN -> ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 319
After adding lexeme length : 322

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 3
After adding lexeme length : 6

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [END]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ %>]
-- Scanning current word '%>' ----------------------------------------
| <% END %>
| -----^
-- {{{ --
| This is word (79) scanned so far
|- Index:     13
|- Line:      22
|- Cursor:    322
|- Column:    6
|- ---
|- Start:    Line: 22:3 - Index 319]
|- End:      Line: 22:0 - Index 316]
|- ---
|- Word index in this line: 2 of 3
|- Previous word:  [END]
|- Current word:   [%>] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [END]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: End Tag ---------------------------------------------------------
-- No characters found before end tag
Check condition when state is ELMT
-- {{{ END TAG :: default ---------------------------------------------------------------
- Advance the cursor and column by 3 to the end of the end tag

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 322
After adding lexeme length : 325

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 6
After adding lexeme length : 9

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
'%>' is the last word in line 22

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 325
Setting End Column => 9
Setting End Line => 22

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = 'END'
    End = @{
        Index = 325
        Line = 22
        Column = 9
    }
    RemainingWhiteSpace = ''
    Type = 'elmt'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 319
        Line = 22
        Column = 3
    }
    Indent = ''
    Prefix = ''
    Suffix = ''
    Index = 13
}

Creating Token 13: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 3
    Type = 'ELMT'
    Suffix = ''
    PSTypeName = 'Stencil.TemplateToken.Elmt'
    Content = 'END'
    Indent = ''
    RemoveIndent = $false
    Start = @{
        Index = 319
        Line = 22
        Column = 3
    }
    Prefix = ''
    End = @{
        Index = 325
        Line = 22
        Column = 9
    }
    Index = 13
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 325
Setting Start Column => 9
Setting Start Line => 22

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
-------------------------------------------------------------------------}}} --
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [%>]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 023 ====================================
Current line: ''
MATCH  line 23 is empty
Split line into 1 words
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
| 
| ^
-- {{{ --
| This is word (80) scanned so far
|- Index:     14
|- Line:      23
|- Cursor:    325
|- Column:    0
|- ---
|- Start:    Line: 22:9 - Index 325]
|- End:      Line: 22:9 - Index 325]
|- ---
|- Word index in this line: 0 of 1
|- Previous word:  [%>]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   [
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
This is the last word in the line
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 024 ====================================
Current line: 'Hope\ \ you\ <%=\ \(echo\ "all"\)\ %>\ have\ a\ nice\ day'
Split line into 11 words
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ Hope]
-- Scanning current word 'Hope' ----------------------------------------
| Hope  you <%= (echo "all") %> have a nice day
| ^
-- {{{ --
| This is word (81) scanned so far
|- Index:     14
|- Line:      24
|- Cursor:    325
|- Column:    0
|- ---
|- Start:    Line: 22:9 - Index 325]
|- End:      Line: 22:9 - Index 325]
|- ---
|- Word index in this line: 0 of 11
|- Previous word:  []
|- Current word:   [Hope] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   [

]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is CLOSE
STATE CHANGE: CLOSE -> TEXT

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 325
Setting Start Column => 0
Setting Start Line => 24

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 325
After adding lexeme length : 330

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 5

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [Hope]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
| Hope  you <%= (echo "all") %> have a nice day
| ----^
-- {{{ --
| This is word (82) scanned so far
|- Index:     14
|- Line:      24
|- Cursor:    330
|- Column:    5
|- ---
|- Start:    Line: 24:0 - Index 325]
|- End:      Line: 22:9 - Index 325]
|- ---
|- Word index in this line: 1 of 11
|- Previous word:  [Hope]
|- Current word:   [] <---
|- Next word:      [you]
|- ---
|- State:     TEXT
|- Content:   [

 Hope]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
| MATCH: Null - add a space to content
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ you]
-- Scanning current word 'you' ----------------------------------------
| Hope  you <%= (echo "all") %> have a nice day
| ----^
-- {{{ --
| This is word (83) scanned so far
|- Index:     14
|- Line:      24
|- Cursor:    330
|- Column:    5
|- ---
|- Start:    Line: 24:0 - Index 325]
|- End:      Line: 22:9 - Index 325]
|- ---
|- Word index in this line: 2 of 11
|- Previous word:  []
|- Current word:   [you] <---
|- Next word:      [<%=]
|- ---
|- State:     TEXT
|- Content:   [

 Hope ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 330
After adding lexeme length : 334

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 5
After adding lexeme length : 9

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [you]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ <%=]
-- Scanning current word '<%=' ----------------------------------------
| Hope  you <%= (echo "all") %> have a nice day
| --------^
-- {{{ --
| This is word (84) scanned so far
|- Index:     14
|- Line:      24
|- Cursor:    334
|- Column:    9
|- ---
|- Start:    Line: 24:0 - Index 325]
|- End:      Line: 22:9 - Index 325]
|- ---
|- Word index in this line: 3 of 11
|- Previous word:  [you]
|- Current word:   [<%=] <---
|- Next word:      [(echo]
|- ---
|- State:     TEXT
|- Content:   [

 Hope  you]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Start tag  ---------------------------------------------------------------
- Characters found after start tag
Characters found is a Prefix
Check condition when state is TEXT
-- {{{ START TAG :: default ---------------------------------------------------------------
There is content from the previous block
- Set End position for the previous content before advancing

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 334
Setting End Column => 9
Setting End Line => 24

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = '

 Hope  you'
    End = @{
        Index = 334
        Line = 24
        Column = 9
    }
    RemainingWhiteSpace = ''
    Type = 'text'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 325
        Line = 24
        Column = 0
    }
    Indent = ''
    Prefix = ''
    Suffix = ''
    Index = 14
}

Creating Token 14: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 12
    Type = 'TEXT'
    Suffix = ''
    PSTypeName = 'Stencil.TemplateToken.Text'
    Content = '

 Hope  you'
    Indent = ''
    RemoveIndent = $false
    Start = @{
        Index = 325
        Line = 24
        Column = 0
    }
    Prefix = ''
    End = @{
        Index = 334
        Line = 24
        Column = 9
    }
    Index = 14
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 334
After adding lexeme length : 338

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 9
After adding lexeme length : 13

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 338
Setting Start Column => 13
Setting Start Line => 24

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: TEXT -> OPEN
- Store current word as prevWord
- Increment word count
Finished scanning word [<%=]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Content is empty
- Lexeme is [(echo]
-- Scanning current word '\(echo' ----------------------------------------
| Hope  you <%= (echo "all") %> have a nice day
| ------------^
-- {{{ --
| This is word (85) scanned so far
|- Index:     15
|- Line:      24
|- Cursor:    338
|- Column:    13
|- ---
|- Start:    Line: 24:13 - Index 338]
|- End:      Line: 24:9 - Index 334]
|- ---
|- Word index in this line: 4 of 11
|- Previous word:  [<%=]
|- Current word:   [(echo] <---
|- Next word:      ["all")]
|- ---
|- State:     OPEN
|- Content:   []
|- Prefix:    [=]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is OPEN
STATE CHANGE: OPEN -> ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 338
After adding lexeme length : 343

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 13
After adding lexeme length : 18

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [(echo]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ "all")]
-- Scanning current word '"all"\)' ----------------------------------------
| Hope  you <%= (echo "all") %> have a nice day
| -----------------^
-- {{{ --
| This is word (86) scanned so far
|- Index:     15
|- Line:      24
|- Cursor:    343
|- Column:    18
|- ---
|- Start:    Line: 24:13 - Index 338]
|- End:      Line: 24:9 - Index 334]
|- ---
|- Word index in this line: 5 of 11
|- Previous word:  [(echo]
|- Current word:   ["all")] <---
|- Next word:      [%>]
|- ---
|- State:     ELMT
|- Content:   [(echo]
|- Prefix:    [=]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 343
After adding lexeme length : 350

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 18
After adding lexeme length : 25

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word ["all")]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ %>]
-- Scanning current word '%>' ----------------------------------------
| Hope  you <%= (echo "all") %> have a nice day
| ------------------------^
-- {{{ --
| This is word (87) scanned so far
|- Index:     15
|- Line:      24
|- Cursor:    350
|- Column:    25
|- ---
|- Start:    Line: 24:13 - Index 338]
|- End:      Line: 24:9 - Index 334]
|- ---
|- Word index in this line: 6 of 11
|- Previous word:  ["all")]
|- Current word:   [%>] <---
|- Next word:      [have]
|- ---
|- State:     ELMT
|- Content:   [(echo "all")]
|- Prefix:    [=]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: End Tag ---------------------------------------------------------
-- No characters found before end tag
Check condition when state is ELMT
-- {{{ END TAG :: default ---------------------------------------------------------------
- Advance the cursor and column by 3 to the end of the end tag

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 350
After adding lexeme length : 353

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 25
After adding lexeme length : 28

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
Remaining words on this line are 'o u   <'

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 353
Setting End Column => 28
Setting End Line => 24

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = '(echo "all")'
    End = @{
        Index = 353
        Line = 24
        Column = 28
    }
    RemainingWhiteSpace = ''
    Type = 'elmt'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 338
        Line = 24
        Column = 13
    }
    Indent = ''
    Prefix = '='
    Suffix = ''
    Index = 15
}

Creating Token 15: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 12
    Type = 'STMT'
    Suffix = ''
    PSTypeName = 'Stencil.TemplateToken.Statement'
    Content = '(echo "all")'
    Indent = ''
    RemoveIndent = $false
    Start = @{
        Index = 338
        Line = 24
        Column = 13
    }
    Prefix = '='
    End = @{
        Index = 353
        Line = 24
        Column = 28
    }
    Index = 15
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 353
Setting Start Column => 28
Setting Start Line => 24

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
-------------------------------------------------------------------------}}} --
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [%>]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Content is empty
- Lexeme is [have]
-- Scanning current word 'have' ----------------------------------------
| Hope  you <%= (echo "all") %> have a nice day
| ---------------------------^
-- {{{ --
| This is word (88) scanned so far
|- Index:     16
|- Line:      24
|- Cursor:    353
|- Column:    28
|- ---
|- Start:    Line: 24:28 - Index 353]
|- End:      Line: 24:28 - Index 353]
|- ---
|- Word index in this line: 7 of 11
|- Previous word:  [%>]
|- Current word:   [have] <---
|- Next word:      [a]
|- ---
|- State:     CLOSE
|- Content:   []
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is CLOSE
STATE CHANGE: CLOSE -> TEXT

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 353
Setting Start Column => 28
Setting Start Line => 24

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 353
After adding lexeme length : 357

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 28
After adding lexeme length : 32

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [have]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ a]
-- Scanning current word 'a' ----------------------------------------
| Hope  you <%= (echo "all") %> have a nice day
| -------------------------------^
-- {{{ --
| This is word (89) scanned so far
|- Index:     16
|- Line:      24
|- Cursor:    357
|- Column:    32
|- ---
|- Start:    Line: 24:28 - Index 353]
|- End:      Line: 24:28 - Index 353]
|- ---
|- Word index in this line: 8 of 11
|- Previous word:  [have]
|- Current word:   [a] <---
|- Next word:      [nice]
|- ---
|- State:     TEXT
|- Content:   [have]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 357
After adding lexeme length : 359

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 32
After adding lexeme length : 34

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [a]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ nice]
-- Scanning current word 'nice' ----------------------------------------
| Hope  you <%= (echo "all") %> have a nice day
| ---------------------------------^
-- {{{ --
| This is word (90) scanned so far
|- Index:     16
|- Line:      24
|- Cursor:    359
|- Column:    34
|- ---
|- Start:    Line: 24:28 - Index 353]
|- End:      Line: 24:28 - Index 353]
|- ---
|- Word index in this line: 9 of 11
|- Previous word:  [a]
|- Current word:   [nice] <---
|- Next word:      [day]
|- ---
|- State:     TEXT
|- Content:   [have a]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 359
After adding lexeme length : 364

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 34
After adding lexeme length : 39

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [nice]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ day]
-- Scanning current word 'day' ----------------------------------------
| Hope  you <%= (echo "all") %> have a nice day
| --------------------------------------^
-- {{{ --
| This is word (91) scanned so far
|- Index:     16
|- Line:      24
|- Cursor:    364
|- Column:    39
|- ---
|- Start:    Line: 24:28 - Index 353]
|- End:      Line: 24:28 - Index 353]
|- ---
|- Word index in this line: 10 of 11
|- Previous word:  [nice]
|- Current word:   [day] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [have a nice]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is TEXT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 364
After adding lexeme length : 368

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 39
After adding lexeme length : 43

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [day]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 025 ====================================
Current line: ''
MATCH  line 25 is empty
Split line into 1 words
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
| 
| ^
-- {{{ --
| This is word (92) scanned so far
|- Index:     16
|- Line:      25
|- Cursor:    368
|- Column:    0
|- ---
|- Start:    Line: 24:28 - Index 353]
|- End:      Line: 24:28 - Index 353]
|- ---
|- Word index in this line: 0 of 1
|- Previous word:  [day]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [have a nice day
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
This is the last word in the line
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 026 ====================================
Current line: '<%\ foreach\ \(\$item\ in\ \$items\)\ \{'
Split line into 6 words
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ <%]
-- Scanning current word '<%' ----------------------------------------
| <% foreach ($item in $items) {
| ^
-- {{{ --
| This is word (93) scanned so far
|- Index:     16
|- Line:      26
|- Cursor:    368
|- Column:    0
|- ---
|- Start:    Line: 24:28 - Index 353]
|- End:      Line: 24:28 - Index 353]
|- ---
|- Word index in this line: 0 of 6
|- Previous word:  []
|- Current word:   [<%] <---
|- Next word:      [foreach]
|- ---
|- State:     TEXT
|- Content:   [have a nice day

]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Start tag  ---------------------------------------------------------------
-- No characters found after start tag
Check condition when state is TEXT
-- {{{ START TAG :: default ---------------------------------------------------------------
There is content from the previous block
- Set End position for the previous content before advancing

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 368
Setting End Column => 0
Setting End Line => 26

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = 'have a nice day

'
    End = @{
        Index = 368
        Line = 26
        Column = 0
    }
    RemainingWhiteSpace = ''
    Type = 'text'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 353
        Line = 24
        Column = 28
    }
    Indent = ''
    Prefix = ''
    Suffix = ''
    Index = 16
}

Creating Token 16: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 17
    Type = 'TEXT'
    Suffix = ''
    PSTypeName = 'Stencil.TemplateToken.Text'
    Content = 'have a nice day

'
    Indent = ''
    RemoveIndent = $false
    Start = @{
        Index = 353
        Line = 24
        Column = 28
    }
    Prefix = ''
    End = @{
        Index = 368
        Line = 26
        Column = 0
    }
    Index = 16
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 368
After adding lexeme length : 371

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 3

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 371
Setting Start Column => 3
Setting Start Line => 26

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: TEXT -> OPEN
- Store current word as prevWord
- Increment word count
Finished scanning word [<%]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Content is empty
- Lexeme is [foreach]
-- Scanning current word 'foreach' ----------------------------------------
| <% foreach ($item in $items) {
| --^
-- {{{ --
| This is word (94) scanned so far
|- Index:     17
|- Line:      26
|- Cursor:    371
|- Column:    3
|- ---
|- Start:    Line: 26:3 - Index 371]
|- End:      Line: 26:0 - Index 368]
|- ---
|- Word index in this line: 1 of 6
|- Previous word:  [<%]
|- Current word:   [foreach] <---
|- Next word:      [($item]
|- ---
|- State:     OPEN
|- Content:   []
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is OPEN
STATE CHANGE: OPEN -> ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 371
After adding lexeme length : 378

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 3
After adding lexeme length : 10

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [foreach]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ ($item]
-- Scanning current word '\(\$item' ----------------------------------------
| <% foreach ($item in $items) {
| ---------^
-- {{{ --
| This is word (95) scanned so far
|- Index:     17
|- Line:      26
|- Cursor:    378
|- Column:    10
|- ---
|- Start:    Line: 26:3 - Index 371]
|- End:      Line: 26:0 - Index 368]
|- ---
|- Word index in this line: 2 of 6
|- Previous word:  [foreach]
|- Current word:   [($item] <---
|- Next word:      [in]
|- ---
|- State:     ELMT
|- Content:   [foreach]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 378
After adding lexeme length : 385

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 10
After adding lexeme length : 17

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [($item]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ in]
-- Scanning current word 'in' ----------------------------------------
| <% foreach ($item in $items) {
| ----------------^
-- {{{ --
| This is word (96) scanned so far
|- Index:     17
|- Line:      26
|- Cursor:    385
|- Column:    17
|- ---
|- Start:    Line: 26:3 - Index 371]
|- End:      Line: 26:0 - Index 368]
|- ---
|- Word index in this line: 3 of 6
|- Previous word:  [($item]
|- Current word:   [in] <---
|- Next word:      [$items)]
|- ---
|- State:     ELMT
|- Content:   [foreach ($item]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 385
After adding lexeme length : 388

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 17
After adding lexeme length : 20

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [in]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ $items)]
-- Scanning current word '\$items\)' ----------------------------------------
| <% foreach ($item in $items) {
| -------------------^
-- {{{ --
| This is word (97) scanned so far
|- Index:     17
|- Line:      26
|- Cursor:    388
|- Column:    20
|- ---
|- Start:    Line: 26:3 - Index 371]
|- End:      Line: 26:0 - Index 368]
|- ---
|- Word index in this line: 4 of 6
|- Previous word:  [in]
|- Current word:   [$items)] <---
|- Next word:      [{]
|- ---
|- State:     ELMT
|- Content:   [foreach ($item in]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 388
After adding lexeme length : 396

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 20
After adding lexeme length : 28

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [$items)]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ {]
-- Scanning current word '\{' ----------------------------------------
| <% foreach ($item in $items) {
| ---------------------------^
-- {{{ --
| This is word (98) scanned so far
|- Index:     17
|- Line:      26
|- Cursor:    396
|- Column:    28
|- ---
|- Start:    Line: 26:3 - Index 371]
|- End:      Line: 26:0 - Index 368]
|- ---
|- Word index in this line: 5 of 6
|- Previous word:  [$items)]
|- Current word:   [{] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [foreach ($item in $items)]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 396
After adding lexeme length : 398

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 28
After adding lexeme length : 30

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [{]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 027 ====================================
Current line: '\ \ \ \ Write-Output\ \$item'
Split line into 6 words
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
|     Write-Output $item
| ^
-- {{{ --
| This is word (99) scanned so far
|- Index:     17
|- Line:      27
|- Cursor:    398
|- Column:    0
|- ---
|- Start:    Line: 26:3 - Index 371]
|- End:      Line: 26:0 - Index 368]
|- ---
|- Word index in this line: 0 of 6
|- Previous word:  [{]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [foreach ($item in $items) {
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
| MATCH: Null - add a space to content
- space after newline (start indent)
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
|     Write-Output $item
| ^
-- {{{ --
| This is word (100) scanned so far
|- Index:     17
|- Line:      27
|- Cursor:    398
|- Column:    0
|- ---
|- Start:    Line: 26:3 - Index 371]
|- End:      Line: 26:0 - Index 368]
|- ---
|- Word index in this line: 1 of 6
|- Previous word:  []
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [foreach ($item in $items) {
 ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
| MATCH: Null - add a space to content
- space after newline (start indent)
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
|     Write-Output $item
| ^
-- {{{ --
| This is word (101) scanned so far
|- Index:     17
|- Line:      27
|- Cursor:    398
|- Column:    0
|- ---
|- Start:    Line: 26:3 - Index 371]
|- End:      Line: 26:0 - Index 368]
|- ---
|- Word index in this line: 2 of 6
|- Previous word:  []
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [foreach ($item in $items) {
  ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
| MATCH: Null - add a space to content
- space after newline (start indent)
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
|     Write-Output $item
| ^
-- {{{ --
| This is word (102) scanned so far
|- Index:     17
|- Line:      27
|- Cursor:    398
|- Column:    0
|- ---
|- Start:    Line: 26:3 - Index 371]
|- End:      Line: 26:0 - Index 368]
|- ---
|- Word index in this line: 3 of 6
|- Previous word:  []
|- Current word:   [] <---
|- Next word:      [Write-Output]
|- ---
|- State:     ELMT
|- Content:   [foreach ($item in $items) {
   ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
| MATCH: Null - add a space to content
- space after newline (start indent)
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ Write-Output]
-- Scanning current word 'Write-Output' ----------------------------------------
|     Write-Output $item
| ^
-- {{{ --
| This is word (103) scanned so far
|- Index:     17
|- Line:      27
|- Cursor:    398
|- Column:    0
|- ---
|- Start:    Line: 26:3 - Index 371]
|- End:      Line: 26:0 - Index 368]
|- ---
|- Word index in this line: 4 of 6
|- Previous word:  []
|- Current word:   [Write-Output] <---
|- Next word:      [$item]
|- ---
|- State:     ELMT
|- Content:   [foreach ($item in $items) {
    ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 398
After adding lexeme length : 411

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 13

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [Write-Output]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ $item]
-- Scanning current word '\$item' ----------------------------------------
|     Write-Output $item
| ------------^
-- {{{ --
| This is word (104) scanned so far
|- Index:     17
|- Line:      27
|- Cursor:    411
|- Column:    13
|- ---
|- Start:    Line: 26:3 - Index 371]
|- End:      Line: 26:0 - Index 368]
|- ---
|- Word index in this line: 5 of 6
|- Previous word:  [Write-Output]
|- Current word:   [$item] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [foreach ($item in $items) {
     Write-Output]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 411
After adding lexeme length : 417

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 13
After adding lexeme length : 19

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [$item]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 028 ====================================
Current line: '}\ %>'
Split line into 2 words
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ }]
-- Scanning current word '}' ----------------------------------------
| } %>
| ^
-- {{{ --
| This is word (105) scanned so far
|- Index:     17
|- Line:      28
|- Cursor:    417
|- Column:    0
|- ---
|- Start:    Line: 26:3 - Index 371]
|- End:      Line: 26:0 - Index 368]
|- ---
|- Word index in this line: 0 of 2
|- Previous word:  [$item]
|- Current word:   [}] <---
|- Next word:      [%>]
|- ---
|- State:     ELMT
|- Content:   [foreach ($item in $items) {
     Write-Output $item
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 417
After adding lexeme length : 419

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 2

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [}]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ %>]
-- Scanning current word '%>' ----------------------------------------
| } %>
| -^
-- {{{ --
| This is word (106) scanned so far
|- Index:     17
|- Line:      28
|- Cursor:    419
|- Column:    2
|- ---
|- Start:    Line: 26:3 - Index 371]
|- End:      Line: 26:0 - Index 368]
|- ---
|- Word index in this line: 1 of 2
|- Previous word:  [}]
|- Current word:   [%>] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [foreach ($item in $items) {
     Write-Output $item
 }]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: End Tag ---------------------------------------------------------
-- No characters found before end tag
Check condition when state is ELMT
-- {{{ END TAG :: default ---------------------------------------------------------------
- Advance the cursor and column by 3 to the end of the end tag

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 419
After adding lexeme length : 422

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 2
After adding lexeme length : 5

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
'%>' is the last word in line 28

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 422
Setting End Column => 5
Setting End Line => 28

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = 'foreach ($item in $items) {
     Write-Output $item
 }'
    End = @{
        Index = 422
        Line = 28
        Column = 5
    }
    RemainingWhiteSpace = ''
    Type = 'elmt'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 371
        Line = 26
        Column = 3
    }
    Indent = ''
    Prefix = ''
    Suffix = ''
    Index = 17
}

Creating Token 17: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 54
    Type = 'ELMT'
    Suffix = ''
    PSTypeName = 'Stencil.TemplateToken.Elmt'
    Content = 'foreach ($item in $items) {
     Write-Output $item
 }'
    Indent = ''
    RemoveIndent = $false
    Start = @{
        Index = 371
        Line = 26
        Column = 3
    }
    Prefix = ''
    End = @{
        Index = 422
        Line = 28
        Column = 5
    }
    Index = 17
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 422
Setting Start Column => 5
Setting Start Line => 28

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
-------------------------------------------------------------------------}}} --
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [%>]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 029 ====================================
Current line: ''
MATCH  line 29 is empty
Split line into 1 words
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
| 
| ^
-- {{{ --
| This is word (107) scanned so far
|- Index:     18
|- Line:      29
|- Cursor:    422
|- Column:    0
|- ---
|- Start:    Line: 28:5 - Index 422]
|- End:      Line: 28:5 - Index 422]
|- ---
|- Word index in this line: 0 of 1
|- Previous word:  [%>]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   [
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
This is the last word in the line
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 030 ====================================
Current line: '<%-\ INCLUDE\ 'section-footer\.pst1'\ -Test1\ -Encoding\ UTF8\ %>'
Split line into 7 words
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ <%-]
-- Scanning current word '<%-' ----------------------------------------
| <%- INCLUDE 'section-footer.pst1' -Test1 -Encoding UTF8 %>
| ^
-- {{{ --
| This is word (108) scanned so far
|- Index:     18
|- Line:      30
|- Cursor:    422
|- Column:    0
|- ---
|- Start:    Line: 28:5 - Index 422]
|- End:      Line: 28:5 - Index 422]
|- ---
|- Word index in this line: 0 of 7
|- Previous word:  []
|- Current word:   [<%-] <---
|- Next word:      [INCLUDE]
|- ---
|- State:     CLOSE
|- Content:   [

]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Start tag  ---------------------------------------------------------------
- Characters found after start tag
Characters found is a Prefix
Check condition when state is CLOSE
-- {{{ START TAG :: default ---------------------------------------------------------------
There is content from the previous block
- Set End position for the previous content before advancing

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 422
Setting End Column => 0
Setting End Line => 30

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = '

'
    End = @{
        Index = 422
        Line = 30
        Column = 0
    }
    RemainingWhiteSpace = ''
    Type = 'text'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 422
        Line = 28
        Column = 5
    }
    Indent = ''
    Prefix = ''
    Suffix = ''
    Index = 18
}

Creating Token 18: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 2
    Type = 'TEXT'
    Suffix = ''
    PSTypeName = 'Stencil.TemplateToken.Text'
    Content = '

'
    Indent = ''
    RemoveIndent = $false
    Start = @{
        Index = 422
        Line = 28
        Column = 5
    }
    Prefix = ''
    End = @{
        Index = 422
        Line = 30
        Column = 0
    }
    Index = 18
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 422
After adding lexeme length : 426

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 0
After adding lexeme length : 4

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 426
Setting Start Column => 4
Setting Start Line => 30

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: CLOSE -> OPEN
- Store current word as prevWord
- Increment word count
Finished scanning word [<%-]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Content is empty
- Lexeme is [INCLUDE]
-- Scanning current word 'INCLUDE' ----------------------------------------
| <%- INCLUDE 'section-footer.pst1' -Test1 -Encoding UTF8 %>
| ---^
-- {{{ --
| This is word (109) scanned so far
|- Index:     19
|- Line:      30
|- Cursor:    426
|- Column:    4
|- ---
|- Start:    Line: 30:4 - Index 426]
|- End:      Line: 30:0 - Index 422]
|- ---
|- Word index in this line: 1 of 7
|- Previous word:  [<%-]
|- Current word:   [INCLUDE] <---
|- Next word:      ['section-footer.pst1']
|- ---
|- State:     OPEN
|- Content:   []
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is OPEN
STATE CHANGE: OPEN -> ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 426
After adding lexeme length : 433

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 4
After adding lexeme length : 11

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [INCLUDE]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ 'section-footer.pst1']
-- Scanning current word ''section-footer\.pst1'' ----------------------------------------
| <%- INCLUDE 'section-footer.pst1' -Test1 -Encoding UTF8 %>
| ----------^
-- {{{ --
| This is word (110) scanned so far
|- Index:     19
|- Line:      30
|- Cursor:    433
|- Column:    11
|- ---
|- Start:    Line: 30:4 - Index 426]
|- End:      Line: 30:0 - Index 422]
|- ---
|- Word index in this line: 2 of 7
|- Previous word:  [INCLUDE]
|- Current word:   ['section-footer.pst1'] <---
|- Next word:      [-Test1]
|- ---
|- State:     ELMT
|- Content:   [INCLUDE]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 433
After adding lexeme length : 455

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 11
After adding lexeme length : 33

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word ['section-footer.pst1']
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ -Test1]
-- Scanning current word '-Test1' ----------------------------------------
| <%- INCLUDE 'section-footer.pst1' -Test1 -Encoding UTF8 %>
| --------------------------------^
-- {{{ --
| This is word (111) scanned so far
|- Index:     19
|- Line:      30
|- Cursor:    455
|- Column:    33
|- ---
|- Start:    Line: 30:4 - Index 426]
|- End:      Line: 30:0 - Index 422]
|- ---
|- Word index in this line: 3 of 7
|- Previous word:  ['section-footer.pst1']
|- Current word:   [-Test1] <---
|- Next word:      [-Encoding]
|- ---
|- State:     ELMT
|- Content:   [INCLUDE 'section-footer.pst1']
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 455
After adding lexeme length : 462

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 33
After adding lexeme length : 40

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [-Test1]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ -Encoding]
-- Scanning current word '-Encoding' ----------------------------------------
| <%- INCLUDE 'section-footer.pst1' -Test1 -Encoding UTF8 %>
| ---------------------------------------^
-- {{{ --
| This is word (112) scanned so far
|- Index:     19
|- Line:      30
|- Cursor:    462
|- Column:    40
|- ---
|- Start:    Line: 30:4 - Index 426]
|- End:      Line: 30:0 - Index 422]
|- ---
|- Word index in this line: 4 of 7
|- Previous word:  [-Test1]
|- Current word:   [-Encoding] <---
|- Next word:      [UTF8]
|- ---
|- State:     ELMT
|- Content:   [INCLUDE 'section-footer.pst1' -Test1]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 462
After adding lexeme length : 472

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 40
After adding lexeme length : 50

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [-Encoding]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- There is content
- Lexeme is [ UTF8]
-- Scanning current word 'UTF8' ----------------------------------------
| <%- INCLUDE 'section-footer.pst1' -Test1 -Encoding UTF8 %>
| -------------------------------------------------^
-- {{{ --
| This is word (113) scanned so far
|- Index:     19
|- Line:      30
|- Cursor:    472
|- Column:    50
|- ---
|- Start:    Line: 30:4 - Index 426]
|- End:      Line: 30:0 - Index 422]
|- ---
|- Word index in this line: 5 of 7
|- Previous word:  [-Encoding]
|- Current word:   [UTF8] <---
|- Next word:      [%>]
|- ---
|- State:     ELMT
|- Content:   [INCLUDE 'section-footer.pst1' -Test1 -Encoding]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: default ---------------------------------------------------------
MATCH: default
Check condition when state is ELMT
- Adding to content

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 472
After adding lexeme length : 477

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 50
After adding lexeme length : 55

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
- Reset Indent
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [UTF8]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ %>]
-- Scanning current word '%>' ----------------------------------------
| <%- INCLUDE 'section-footer.pst1' -Test1 -Encoding UTF8 %>
| ------------------------------------------------------^
-- {{{ --
| This is word (114) scanned so far
|- Index:     19
|- Line:      30
|- Cursor:    477
|- Column:    55
|- ---
|- Start:    Line: 30:4 - Index 426]
|- End:      Line: 30:0 - Index 422]
|- ---
|- Word index in this line: 6 of 7
|- Previous word:  [UTF8]
|- Current word:   [%>] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [INCLUDE 'section-footer.pst1' -Test1 -Encoding UTF8]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: End Tag ---------------------------------------------------------
-- No characters found before end tag
Check condition when state is ELMT
-- {{{ END TAG :: default ---------------------------------------------------------------
- Advance the cursor and column by 3 to the end of the end tag

--------------------------------------------------------------------------------
-- Begin Update-Cursor
--------------------------------------------------------------------------------
Current cursor is : 477
After adding lexeme length : 480

--------------------------------------------------------------------------------
-- End Update-Cursor
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Update-Column
--------------------------------------------------------------------------------
Current column is : 55
After adding lexeme length : 58

--------------------------------------------------------------------------------
-- End Update-Column
--------------------------------------------------------------------------------
'%>' is the last word in line 30

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 480
Setting End Column => 58
Setting End Line => 30

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = 'INCLUDE ''section-footer.pst1'' -Test1 -Encoding UTF8'
    End = @{
        Index = 480
        Line = 30
        Column = 58
    }
    RemainingWhiteSpace = ''
    Type = 'elmt'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 426
        Line = 30
        Column = 4
    }
    Indent = ''
    Prefix = '-'
    Suffix = ''
    Index = 19
}

Creating Token 19: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 51
    Type = 'ELMT'
    Suffix = ''
    PSTypeName = 'Stencil.TemplateToken.Elmt'
    Content = 'INCLUDE ''section-footer.pst1'' -Test1 -Encoding UTF8'
    Indent = ''
    RemoveIndent = $true
    Start = @{
        Index = 426
        Line = 30
        Column = 4
    }
    Prefix = '-'
    End = @{
        Index = 480
        Line = 30
        Column = 58
    }
    Index = 19
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Setting Start Index => 480
Setting Start Column => 58
Setting Start Line => 30

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
-------------------------------------------------------------------------}}} --
----------------------------------------------------------------------- }}} --
- Store current word as prevWord
- Increment word count
Finished scanning word [%>]
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
-- {{{ -Line------------------------------------------------------------------------------
No Carriage Return found
=================================== Line 031 ====================================
Current line: ''
MATCH  line 31 is empty
Split line into 1 words
-- {{{ -Word------------------------------------------------------------------------------
- Last word in line
- There is content
- Lexeme is [ ]
-- Scanning current word '' ----------------------------------------
| 
| ^
-- {{{ --
| This is word (115) scanned so far
|- Index:     20
|- Line:      31
|- Cursor:    480
|- Column:    0
|- ---
|- Start:    Line: 30:58 - Index 480]
|- End:      Line: 30:58 - Index 480]
|- ---
|- Word index in this line: 0 of 1
|- Previous word:  [%>]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   [
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
-------------------------------------------------
-- {{{ SCAN: Null ---------------------------------------------------------------
This is the last word in the line
-------------------------------------------------------------------------}}} --
- Store current word as prevWord
- Increment word count
Finished scanning word []
---------------------------------------- End ---

------------------------------------------------------------------------------- }}} --
END OF LINE
- Add a newline to content
- Add Line Feed
----------------------------------------------------------------------------------- }}} --
increment linenumber
END OF INPUT
- There is remaining content
Check condition when state is CLOSE
- default

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Setting End Index => 480
Setting End Column => 0
Setting End Line => 32

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Content = '

'
    End = @{
        Index = 480
        Line = 32
        Column = 0
    }
    RemainingWhiteSpace = ''
    Type = 'text'
    RemoveNewLine = $false
    RemoveIndent = $false
    Start = @{
        Index = 480
        Line = 30
        Column = 58
    }
    Indent = ''
    Prefix = ''
    Suffix = ''
    Index = 20
}

Creating Token 20: TokenInfo :
 @{
    RemainingWhiteSpace = ''
    Length = 2
    Type = 'TEXT'
    Suffix = ''
    PSTypeName = 'Stencil.TemplateToken.Text'
    Content = '

'
    Indent = ''
    RemoveIndent = $false
    Start = @{
        Index = 480
        Line = 30
        Column = 58
    }
    Prefix = ''
    End = @{
        Index = 480
        Line = 32
        Column = 0
    }
    Index = 20
    RemoveNewLine = $false
}

-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Convert-StringToToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End ConvertFrom-StencilTemplate
--------------------------------------------------------------------------------
