
--------------------------------------------------------------------------------
-- Begin ConvertFrom-StencilTemplate
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Convert-StringToToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Get-TagStyle
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Get-TagStyle
--------------------------------------------------------------------------------
Template is 521 characters
Beginning tokenization
Template contains 32 lines
- Last line is ''
- Removing extra line at file end (will be added if config.AddFinalNewLine is set)
- Now Template contains 31 lines
Processing lines in input
-- {{{ - Line 1 --
- First line in content
No Carriage Return found
Current line: '<%\#\ code:\ language=eps\ \#%>'
Split line into 4 words
-- {{{ -Word '<%\#' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%# code: language=eps #%>
|  -^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (0) scanned in the input so far
|- Index:     0
|- Line:      1
|- Cursor:    0
|- Column:    1
|- ---
|- Start:    Line: 1:1 - Index 0
|- End:      Line: 1:1 - Index 0
|- ---
|- This is word 1 of 4 in this line
|- Is first word:  True
|- Is last word:  False
|- Previous word:  []
|- Current word:   [<%#] <---
|- Next word:      [language=eps]
|- ---
|- State:     TEXT
|- Content:   []
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '<%#' for matches
-- {{{ SCAN MATCH: Start tag --
- Characters found after start tag
Characters found is a Prefix
Check condition when state is TEXT
-- {{{ START TAG :: default --
Content is empty

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 0
Set Line to 1
Set Column to 1

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 2

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 3

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
+-- {{{ - Column 03 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%# code: language=eps #%>
|  ---^
+------------------------------------------------------------------------------- }}} --+
STATE CHANGE: TEXT -> OPEN
-- }}} --
-- }}} --
- Store current word as prevWord
Finished scanning word [<%#]
-- }}} --

-- {{{ -Word 'code:' --
+-- {{{ - Column 03 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%# code: language=eps #%>
|  ---^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (1) scanned in the input so far
|- Index:     0
|- Line:      1
|- Cursor:    2
|- Column:    3
|- ---
|- Start:    Line: 1:1 - Index 0
|- End:      Line: 1:1 - Index 0
|- ---
|- This is word 2 of 4 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [<%#]
|- Current word:   [code:] <---
|- Next word:      [#%>]
|- ---
|- State:     OPEN
|- Content:   []
|- Prefix:    [#]
|- Suffix:    []
-- }}} --
Scanning current word 'code:' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is OPEN
- state condition: OPEN
STATE CHANGE: OPEN -> ELMT

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 8

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 9

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [code:]
-- }}} --

-- {{{ -Word 'language=eps' --
+-- {{{ - Column 09 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%# code: language=eps #%>
|  ---------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (2) scanned in the input so far
|- Index:     0
|- Line:      1
|- Cursor:    8
|- Column:    9
|- ---
|- Start:    Line: 1:1 - Index 0
|- End:      Line: 1:1 - Index 0
|- ---
|- This is word 3 of 4 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [code:]
|- Current word:   [language=eps] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ code:]
|- Prefix:    [#]
|- Suffix:    []
-- }}} --
Scanning current word 'language=eps' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 21

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 22

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [language=eps]
-- }}} --

-- {{{ -Word '\#%>' --
+-- {{{ - Column 22 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%# code: language=eps #%>
|  ----------------------^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (3) scanned in the input so far
|- Index:     0
|- Line:      1
|- Cursor:    21
|- Column:    22
|- ---
|- Start:    Line: 1:1 - Index 0
|- End:      Line: 1:1 - Index 0
|- ---
|- This is word 4 of 4 in this line
|- Is first word:  False
|- Is last word:  True
|- Previous word:  [language=eps]
|- Current word:   [#%>] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ code: language=eps]
|- Prefix:    [#]
|- Suffix:    []
-- }}} --
Scanning current word '#%>' for matches
-- {{{ SCAN MATCH: End Tag --
- Characters found before end tag
- Characters found is a Suffix
Check condition when state is ELMT
-- {{{ END TAG :: default --
- lexeme is [ #%>]

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 25

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 26

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Last word in line 1
- Add LF

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 27

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 26

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
  - And remaining whitespace 1
+-- {{{ - Column 27 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%# code: language=eps #%>
|  ---------------------------^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Set Index to 26
Set Line to 1
Set Column to 27

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Type = 'elmt'
    Indent = ''
    End = @{
        Line = 1
        Column = 27
        Index = 26
    }
    Start = @{
        Line = 1
        Column = 1
        Index = 0
    }
    Content = ' code: language=eps '
    Index = 0
    RemoveIndent = $false
    Prefix = '#'
    Suffix = '#'
    RemoveNewLine = $false
    RemainingWhiteSpace = ''
}


--------------------------------------------------------------------------------
-- Begin New-CommentToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End New-CommentToken
--------------------------------------------------------------------------------
Creating Token 0: TokenInfo :
 @{
    PSTypeName = 'Stencil.Template.CommentToken'
    RemainingWhiteSpace = ''
    End = @{
        Line = 1
        Column = 27
        Index = 26
    }
    Suffix = '#'
    Content = ' code: language=eps '
    Start = @{
        Line = 1
        Column = 1
        Index = 0
    }
    RemoveNewLine = $false
    Length = 20
    Prefix = '#'
    Type = 'CMNT'
    Indent = ''
    RemoveIndent = $false
    Index = 0
}


--------------------------------------------------------------------------------
-- Begin Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
This token is type CommentToken

--------------------------------------------------------------------------------
-- End Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 27
Set Line to 1
Set Column to 28

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
--}}} --
- Store current word as prevWord
Finished scanning word [#%>]
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 2 --
No Carriage Return found
Current line: '<%-'
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 1 words
-- {{{ -Word '<%-' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%-
|  -^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (4) scanned in the input so far
|- Index:     1
|- Line:      2
|- Cursor:    26
|- Column:    1
|- ---
|- Start:    Line: 1:28 - Index 27
|- End:      Line: 1:27 - Index 26
|- ---
|- This is word 1 of 1 in this line
|- Is first word:  True
|- Is last word:  True
|- Previous word:  [#%>]
|- Current word:   [<%-] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   []
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '<%-' for matches
-- {{{ SCAN MATCH: Start tag --
- Characters found after start tag
Characters found is a Prefix
Check condition when state is CLOSE
-- {{{ START TAG :: default --
Content is empty

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 26
Set Line to 2
Set Column to 1

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 28

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 3

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
+-- {{{ - Column 03 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%-
|  ---^
+------------------------------------------------------------------------------- }}} --+
STATE CHANGE: CLOSE -> OPEN
-- }}} --
-- }}} --
- Store current word as prevWord
Finished scanning word [<%-]
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 3 --
No Carriage Return found
Current line: '---'
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 1 words
-- {{{ -Word '---' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   ---
|  -^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (5) scanned in the input so far
|- Index:     1
|- Line:      3
|- Cursor:    28
|- Column:    1
|- ---
|- Start:    Line: 2:1 - Index 26
|- End:      Line: 1:27 - Index 26
|- ---
|- This is word 1 of 1 in this line
|- Is first word:  True
|- Is last word:  True
|- Previous word:  [<%-]
|- Current word:   [---] <---
|- Next word:      []
|- ---
|- State:     OPEN
|- Content:   []
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word '---' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is OPEN
- state condition: OPEN
STATE CHANGE: OPEN -> ELMT

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 30

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 3

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
- Last word in line 3
- Add LF

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 4

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 31

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word [---]
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 4 --
No Carriage Return found
Current line: 'title:\ test\ Template'
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 3 words
-- {{{ -Word 'title:' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   title: test Template
|  -^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (6) scanned in the input so far
|- Index:     1
|- Line:      4
|- Cursor:    31
|- Column:    1
|- ---
|- Start:    Line: 2:1 - Index 26
|- End:      Line: 1:27 - Index 26
|- ---
|- This is word 1 of 3 in this line
|- Is first word:  True
|- Is last word:  False
|- Previous word:  [---]
|- Current word:   [title:] <---
|- Next word:      [Template]
|- ---
|- State:     ELMT
|- Content:   [---
]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word 'title:' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 36

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 6

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [title:]
-- }}} --

-- {{{ -Word 'test' --
+-- {{{ - Column 06 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   title: test Template
|  ------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (7) scanned in the input so far
|- Index:     1
|- Line:      4
|- Cursor:    36
|- Column:    6
|- ---
|- Start:    Line: 2:1 - Index 26
|- End:      Line: 1:27 - Index 26
|- ---
|- This is word 2 of 3 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [title:]
|- Current word:   [test] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [---
title:]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word 'test' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 41

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 11

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [test]
-- }}} --

-- {{{ -Word 'Template' --
+-- {{{ - Column 11 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   title: test Template
|  -----------^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (8) scanned in the input so far
|- Index:     1
|- Line:      4
|- Cursor:    41
|- Column:    11
|- ---
|- Start:    Line: 2:1 - Index 26
|- End:      Line: 1:27 - Index 26
|- ---
|- This is word 3 of 3 in this line
|- Is first word:  False
|- Is last word:  True
|- Previous word:  [test]
|- Current word:   [Template] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [---
title: test]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word 'Template' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 50

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 20

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
- Last word in line 4
- Add LF

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 21

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 51

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word [Template]
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 5 --
No Carriage Return found
Current line: 'tags:'
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 1 words
-- {{{ -Word 'tags:' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   tags:
|  -^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (9) scanned in the input so far
|- Index:     1
|- Line:      5
|- Cursor:    51
|- Column:    1
|- ---
|- Start:    Line: 2:1 - Index 26
|- End:      Line: 1:27 - Index 26
|- ---
|- This is word 1 of 1 in this line
|- Is first word:  True
|- Is last word:  True
|- Previous word:  [Template]
|- Current word:   [tags:] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [---
title: test Template
]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word 'tags:' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 55

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 5

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
- Last word in line 5
- Add LF

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 6

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 56

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word [tags:]
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 6 --
No Carriage Return found
Current line: '\ \ -\ test'
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 4 words
-- {{{ -Word '' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|     - test
|  -^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (10) scanned in the input so far
|- Index:     1
|- Line:      6
|- Cursor:    56
|- Column:    1
|- ---
|- Start:    Line: 2:1 - Index 26
|- End:      Line: 1:27 - Index 26
|- ---
|- This is word 1 of 4 in this line
|- Is first word:  True
|- Is last word:  False
|- Previous word:  [tags:]
|- Current word:   [] <---
|- Next word:      [-]
|- ---
|- State:     ELMT
|- Content:   [---
title: test Template
tags:
]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word '' for matches
-- {{{ SCAN MATCH: space character --

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 57

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 2

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word []
-- }}} --

-- {{{ -Word '' --
+-- {{{ - Column 02 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|     - test
|  --^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (11) scanned in the input so far
|- Index:     1
|- Line:      6
|- Cursor:    57
|- Column:    2
|- ---
|- Start:    Line: 2:1 - Index 26
|- End:      Line: 1:27 - Index 26
|- ---
|- This is word 2 of 4 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  []
|- Current word:   [] <---
|- Next word:      [test]
|- ---
|- State:     ELMT
|- Content:   [---
title: test Template
tags:
 ]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word '' for matches
-- {{{ SCAN MATCH: space character --

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 58

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 3

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word []
-- }}} --

-- {{{ -Word '-' --
+-- {{{ - Column 03 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|     - test
|  ---^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (12) scanned in the input so far
|- Index:     1
|- Line:      6
|- Cursor:    58
|- Column:    3
|- ---
|- Start:    Line: 2:1 - Index 26
|- End:      Line: 1:27 - Index 26
|- ---
|- This is word 3 of 4 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  []
|- Current word:   [-] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [---
title: test Template
tags:
  ]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word '-' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 60

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 5

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [-]
-- }}} --

-- {{{ -Word 'test' --
+-- {{{ - Column 05 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|     - test
|  -----^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (13) scanned in the input so far
|- Index:     1
|- Line:      6
|- Cursor:    60
|- Column:    5
|- ---
|- Start:    Line: 2:1 - Index 26
|- End:      Line: 1:27 - Index 26
|- ---
|- This is word 4 of 4 in this line
|- Is first word:  False
|- Is last word:  True
|- Previous word:  [-]
|- Current word:   [test] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [---
title: test Template
tags:
   -]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word 'test' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 65

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 10

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
- Last word in line 6
- Add LF

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 11

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 66

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word [test]
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 7 --
No Carriage Return found
Current line: '---'
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 1 words
-- {{{ -Word '---' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   ---
|  -^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (14) scanned in the input so far
|- Index:     1
|- Line:      7
|- Cursor:    66
|- Column:    1
|- ---
|- Start:    Line: 2:1 - Index 26
|- End:      Line: 1:27 - Index 26
|- ---
|- This is word 1 of 1 in this line
|- Is first word:  True
|- Is last word:  True
|- Previous word:  [test]
|- Current word:   [---] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [---
title: test Template
tags:
   - test
]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word '---' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 68

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 3

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
- Last word in line 7
- Add LF

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 4

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 69

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word [---]
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 8 --
No Carriage Return found
Current line: '%>'
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 1 words
-- {{{ -Word '%>' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   %>
|  -^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (15) scanned in the input so far
|- Index:     1
|- Line:      8
|- Cursor:    69
|- Column:    1
|- ---
|- Start:    Line: 2:1 - Index 26
|- End:      Line: 1:27 - Index 26
|- ---
|- This is word 1 of 1 in this line
|- Is first word:  True
|- Is last word:  True
|- Previous word:  [---]
|- Current word:   [%>] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [---
title: test Template
tags:
   - test
---
]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word '%>' for matches
-- {{{ SCAN MATCH: End Tag --
-- No characters found before end tag
Check condition when state is ELMT
-- {{{ END TAG :: default --

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 70

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 2

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- lexeme is [%>]

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 72

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 4

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Last word in line 8
- Add LF

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 5

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 73

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
  - And remaining whitespace 1
+-- {{{ - Column 05 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   %>
|  -----^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Set Index to 73
Set Line to 8
Set Column to 5

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Type = 'elmt'
    Indent = ''
    End = @{
        Line = 8
        Column = 5
        Index = 73
    }
    Start = @{
        Line = 2
        Column = 1
        Index = 26
    }
    Content = '---
title: test Template
tags:
   - test
---
 '
    Index = 1
    RemoveIndent = $false
    Prefix = '-'
    Suffix = ''
    RemoveNewLine = $false
    RemainingWhiteSpace = ''
}

Creating Token 1: TokenInfo :
 @{
    PSTypeName = 'Stencil.Template.FrontMatterToken'
    RemainingWhiteSpace = ''
    End = @{
        Line = 8
        Column = 5
        Index = 73
    }
    YAML = '
title: test Template
tags:
   - test
'
    Suffix = ''
    Content = '---
title: test Template
tags:
   - test
---
 '
    Start = @{
        Line = 2
        Column = 1
        Index = 26
    }
    RemoveNewLine = $false
    Length = 46
    Prefix = '-'
    Type = 'FMTR'
    Indent = ''
    RemoveIndent = $true
    Index = 1
}


--------------------------------------------------------------------------------
-- Begin Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
This token is type FrontMatterToken

--------------------------------------------------------------------------------
-- End Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 74
Set Line to 8
Set Column to 6

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
--}}} --
- Store current word as prevWord
Finished scanning word [%>]
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 9 --
No Carriage Return found
Current line: ''
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 1 words
-- {{{ -Word '' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   
|  -^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (16) scanned in the input so far
|- Index:     2
|- Line:      9
|- Cursor:    73
|- Column:    1
|- ---
|- Start:    Line: 8:6 - Index 74
|- End:      Line: 8:5 - Index 73
|- ---
|- This is word 1 of 1 in this line
|- Is first word:  True
|- Is last word:  True
|- Previous word:  [%>]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   []
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '' for matches
-- {{{ SCAN MATCH: space character --

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 74

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 2

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word []
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 10 --
No Carriage Return found
Current line: '<%---\ What\ should\ this\ be\?\ ---%>'
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 6 words
-- {{{ -Word '<%---' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%--- What should this be? ---%>
|  -^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (17) scanned in the input so far
|- Index:     2
|- Line:      10
|- Cursor:    74
|- Column:    1
|- ---
|- Start:    Line: 8:6 - Index 74
|- End:      Line: 8:5 - Index 73
|- ---
|- This is word 1 of 6 in this line
|- Is first word:  True
|- Is last word:  False
|- Previous word:  []
|- Current word:   [<%---] <---
|- Next word:      [should]
|- ---
|- State:     CLOSE
|- Content:   [ ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '<%---' for matches
-- {{{ SCAN MATCH: Start tag --
- Characters found after start tag
Characters found is a Prefix
Check condition when state is CLOSE
-- {{{ START TAG :: default --
There is content from the previous block.  Create token
- Set End position for the previous content before advancing
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%--- What should this be? ---%>
|  -^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Set Index to 74
Set Line to 10
Set Column to 1

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Type = 'text'
    Indent = ''
    End = @{
        Line = 10
        Column = 1
        Index = 74
    }
    Start = @{
        Line = 8
        Column = 6
        Index = 74
    }
    Content = ' '
    Index = 2
    RemoveIndent = $false
    Prefix = ''
    Suffix = ''
    RemoveNewLine = $false
    RemainingWhiteSpace = ''
}


--------------------------------------------------------------------------------
-- Begin New-TextToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End New-TextToken
--------------------------------------------------------------------------------
Creating Token 2: TokenInfo :
 @{
    PSTypeName = 'Stencil.Template.TextToken'
    RemainingWhiteSpace = ''
    End = @{
        Line = 10
        Column = 1
        Index = 74
    }
    Suffix = ''
    Content = ' '
    Start = @{
        Line = 8
        Column = 6
        Index = 74
    }
    RemoveNewLine = $false
    Length = 1
    Prefix = ''
    Type = 'TEXT'
    Indent = ''
    RemoveIndent = $false
    Index = 2
}


--------------------------------------------------------------------------------
-- Begin Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
This token is type TextToken
Creating Text section
Token content: ' '
- Block text is [" " | Write-Output]

--------------------------------------------------------------------------------
-- End Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 76

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 3

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------
+-- {{{ - Column 03 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%--- What should this be? ---%>
|  ---^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 76
Set Line to 10
Set Column to 3

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: CLOSE -> OPEN
-- }}} --
-- }}} --
- Store current word as prevWord
Finished scanning word [<%---]
-- }}} --

-- {{{ -Word 'What' --
+-- {{{ - Column 03 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%--- What should this be? ---%>
|  ---^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (18) scanned in the input so far
|- Index:     3
|- Line:      10
|- Cursor:    76
|- Column:    3
|- ---
|- Start:    Line: 10:3 - Index 76
|- End:      Line: 10:1 - Index 74
|- ---
|- This is word 2 of 6 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [<%---]
|- Current word:   [What] <---
|- Next word:      [this]
|- ---
|- State:     OPEN
|- Content:   []
|- Prefix:    [---]
|- Suffix:    []
-- }}} --
Scanning current word 'What' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is OPEN
- state condition: OPEN
STATE CHANGE: OPEN -> ELMT

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 81

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 8

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [What]
-- }}} --

-- {{{ -Word 'should' --
+-- {{{ - Column 08 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%--- What should this be? ---%>
|  --------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (19) scanned in the input so far
|- Index:     3
|- Line:      10
|- Cursor:    81
|- Column:    8
|- ---
|- Start:    Line: 10:3 - Index 76
|- End:      Line: 10:1 - Index 74
|- ---
|- This is word 3 of 6 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [What]
|- Current word:   [should] <---
|- Next word:      [be?]
|- ---
|- State:     ELMT
|- Content:   [ What]
|- Prefix:    [---]
|- Suffix:    []
-- }}} --
Scanning current word 'should' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 88

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 15

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [should]
-- }}} --

-- {{{ -Word 'this' --
+-- {{{ - Column 15 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%--- What should this be? ---%>
|  ---------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (20) scanned in the input so far
|- Index:     3
|- Line:      10
|- Cursor:    88
|- Column:    15
|- ---
|- Start:    Line: 10:3 - Index 76
|- End:      Line: 10:1 - Index 74
|- ---
|- This is word 4 of 6 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [should]
|- Current word:   [this] <---
|- Next word:      [---%>]
|- ---
|- State:     ELMT
|- Content:   [ What should]
|- Prefix:    [---]
|- Suffix:    []
-- }}} --
Scanning current word 'this' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 93

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 20

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [this]
-- }}} --

-- {{{ -Word 'be\?' --
+-- {{{ - Column 20 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%--- What should this be? ---%>
|  --------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (21) scanned in the input so far
|- Index:     3
|- Line:      10
|- Cursor:    93
|- Column:    20
|- ---
|- Start:    Line: 10:3 - Index 76
|- End:      Line: 10:1 - Index 74
|- ---
|- This is word 5 of 6 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [this]
|- Current word:   [be?] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ What should this]
|- Prefix:    [---]
|- Suffix:    []
-- }}} --
Scanning current word 'be?' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 97

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 24

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [be?]
-- }}} --

-- {{{ -Word '---%>' --
+-- {{{ - Column 24 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%--- What should this be? ---%>
|  ------------------------^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (22) scanned in the input so far
|- Index:     3
|- Line:      10
|- Cursor:    97
|- Column:    24
|- ---
|- Start:    Line: 10:3 - Index 76
|- End:      Line: 10:1 - Index 74
|- ---
|- This is word 6 of 6 in this line
|- Is first word:  False
|- Is last word:  True
|- Previous word:  [be?]
|- Current word:   [---%>] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ What should this be?]
|- Prefix:    [---]
|- Suffix:    []
-- }}} --
Scanning current word '---%>' for matches
-- {{{ SCAN MATCH: End Tag --
- Characters found before end tag
- Characters found is a Suffix
Check condition when state is ELMT
-- {{{ END TAG :: default --
- lexeme is [ ---%>]

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 103

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 30

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Last word in line 10
- Add LF

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 31

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 104

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
  - And remaining whitespace 1
+-- {{{ - Column 31 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%--- What should this be? ---%>
|  -------------------------------^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Set Index to 104
Set Line to 10
Set Column to 31

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Type = 'elmt'
    Indent = ''
    End = @{
        Line = 10
        Column = 31
        Index = 104
    }
    Start = @{
        Line = 10
        Column = 3
        Index = 76
    }
    Content = ' What should this be? '
    Index = 3
    RemoveIndent = $false
    Prefix = '---'
    Suffix = '---'
    RemoveNewLine = $false
    RemainingWhiteSpace = ''
}

Creating Token 3: TokenInfo :
 @{
    PSTypeName = 'Stencil.TemplateToken.Elmt'
    RemainingWhiteSpace = ''
    End = @{
        Line = 10
        Column = 31
        Index = 104
    }
    Suffix = '---'
    Content = ' What should this be? '
    Start = @{
        Line = 10
        Column = 3
        Index = 76
    }
    RemoveNewLine = $false
    Length = 22
    Prefix = '---'
    Type = 'ELMT'
    Indent = ''
    RemoveIndent = $false
    Index = 3
}


--------------------------------------------------------------------------------
-- Begin Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
This token is type Elmt

--------------------------------------------------------------------------------
-- End Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 105
Set Line to 10
Set Column to 32

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
--}}} --
- Store current word as prevWord
Finished scanning word [---%>]
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 11 --
No Carriage Return found
Current line: 'A\ test\ template'
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 3 words
-- {{{ -Word 'A' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   A test template
|  -^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (23) scanned in the input so far
|- Index:     4
|- Line:      11
|- Cursor:    104
|- Column:    1
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 1 of 3 in this line
|- Is first word:  True
|- Is last word:  False
|- Previous word:  [---%>]
|- Current word:   [A] <---
|- Next word:      [template]
|- ---
|- State:     CLOSE
|- Content:   []
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'A' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is CLOSE
- state condition: CLOSE
STATE CHANGE: CLOSE -> TEXT

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 104

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 1

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [A]
-- }}} --

-- {{{ -Word 'test' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   A test template
|  -^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (24) scanned in the input so far
|- Index:     4
|- Line:      11
|- Cursor:    104
|- Column:    1
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 2 of 3 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [A]
|- Current word:   [test] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [A]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'test' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 109

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 6

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [test]
-- }}} --

-- {{{ -Word 'template' --
+-- {{{ - Column 06 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   A test template
|  ------^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (25) scanned in the input so far
|- Index:     4
|- Line:      11
|- Cursor:    109
|- Column:    6
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 3 of 3 in this line
|- Is first word:  False
|- Is last word:  True
|- Previous word:  [test]
|- Current word:   [template] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [A test]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'template' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 118

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 15

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
- Last word in line 11
- Add LF

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 16

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 119

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word [template]
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 12 --
No Carriage Return found
Current line: ''
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 1 words
-- {{{ -Word '' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   
|  -^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (26) scanned in the input so far
|- Index:     4
|- Line:      12
|- Cursor:    119
|- Column:    1
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 1 of 1 in this line
|- Is first word:  True
|- Is last word:  True
|- Previous word:  [template]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [A test template
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '' for matches
-- {{{ SCAN MATCH: space character --

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 120

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 2

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word []
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 13 --
No Carriage Return found
Current line: 'this\ should\ output\ the\ start\ marker\ <%%'
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 7 words
-- {{{ -Word 'this' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   this should output the start marker <%%
|  -^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (27) scanned in the input so far
|- Index:     4
|- Line:      13
|- Cursor:    120
|- Column:    1
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 1 of 7 in this line
|- Is first word:  True
|- Is last word:  False
|- Previous word:  []
|- Current word:   [this] <---
|- Next word:      [output]
|- ---
|- State:     TEXT
|- Content:   [A test template
 ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'this' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 123

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 4

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [this]
-- }}} --

-- {{{ -Word 'should' --
+-- {{{ - Column 04 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   this should output the start marker <%%
|  ----^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (28) scanned in the input so far
|- Index:     4
|- Line:      13
|- Cursor:    123
|- Column:    4
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 2 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [this]
|- Current word:   [should] <---
|- Next word:      [the]
|- ---
|- State:     TEXT
|- Content:   [A test template
 this]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'should' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 130

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 11

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [should]
-- }}} --

-- {{{ -Word 'output' --
+-- {{{ - Column 11 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   this should output the start marker <%%
|  -----------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (29) scanned in the input so far
|- Index:     4
|- Line:      13
|- Cursor:    130
|- Column:    11
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 3 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [should]
|- Current word:   [output] <---
|- Next word:      [start]
|- ---
|- State:     TEXT
|- Content:   [A test template
 this should]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'output' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 137

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 18

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [output]
-- }}} --

-- {{{ -Word 'the' --
+-- {{{ - Column 18 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   this should output the start marker <%%
|  ------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (30) scanned in the input so far
|- Index:     4
|- Line:      13
|- Cursor:    137
|- Column:    18
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 4 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [output]
|- Current word:   [the] <---
|- Next word:      [marker]
|- ---
|- State:     TEXT
|- Content:   [A test template
 this should output]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'the' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 141

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 22

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [the]
-- }}} --

-- {{{ -Word 'start' --
+-- {{{ - Column 22 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   this should output the start marker <%%
|  ----------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (31) scanned in the input so far
|- Index:     4
|- Line:      13
|- Cursor:    141
|- Column:    22
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 5 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [the]
|- Current word:   [start] <---
|- Next word:      [<%%]
|- ---
|- State:     TEXT
|- Content:   [A test template
 this should output the]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'start' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 147

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 28

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [start]
-- }}} --

-- {{{ -Word 'marker' --
+-- {{{ - Column 28 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   this should output the start marker <%%
|  ----------------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (32) scanned in the input so far
|- Index:     4
|- Line:      13
|- Cursor:    147
|- Column:    28
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 6 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [start]
|- Current word:   [marker] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [A test template
 this should output the start]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'marker' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 154

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 35

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [marker]
-- }}} --

-- {{{ -Word '<%%' --
+-- {{{ - Column 35 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   this should output the start marker <%%
|  -----------------------------------^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (33) scanned in the input so far
|- Index:     4
|- Line:      13
|- Cursor:    154
|- Column:    35
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 7 of 7 in this line
|- Is first word:  False
|- Is last word:  True
|- Previous word:  [marker]
|- Current word:   [<%%] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [A test template
 this should output the start marker]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '<%%' for matches
-- {{{ SCAN MATCH: Start tag --
- Characters found after start tag
** ESCAPED START - Add start tag to content
  - Adding  <% to content

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 157

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 38

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word [<%%]
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 14 --
No Carriage Return found
Current line: ''
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 1 words
-- {{{ -Word '' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   
|  -^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (34) scanned in the input so far
|- Index:     4
|- Line:      14
|- Cursor:    157
|- Column:    1
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 1 of 1 in this line
|- Is first word:  True
|- Is last word:  True
|- Previous word:  [<%%]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [A test template
 this should output the start marker <%]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '' for matches
-- {{{ SCAN MATCH: space character --

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 158

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 2

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word []
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 15 --
No Carriage Return found
Current line: 'this\ should\ output\ the\ end\ marker\ %%>'
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 7 words
-- {{{ -Word 'this' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   this should output the end marker %%>
|  -^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (35) scanned in the input so far
|- Index:     4
|- Line:      15
|- Cursor:    158
|- Column:    1
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 1 of 7 in this line
|- Is first word:  True
|- Is last word:  False
|- Previous word:  []
|- Current word:   [this] <---
|- Next word:      [output]
|- ---
|- State:     TEXT
|- Content:   [A test template
 this should output the start marker <% ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'this' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 161

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 4

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [this]
-- }}} --

-- {{{ -Word 'should' --
+-- {{{ - Column 04 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   this should output the end marker %%>
|  ----^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (36) scanned in the input so far
|- Index:     4
|- Line:      15
|- Cursor:    161
|- Column:    4
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 2 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [this]
|- Current word:   [should] <---
|- Next word:      [the]
|- ---
|- State:     TEXT
|- Content:   [A test template
 this should output the start marker <% this]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'should' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 168

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 11

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [should]
-- }}} --

-- {{{ -Word 'output' --
+-- {{{ - Column 11 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   this should output the end marker %%>
|  -----------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (37) scanned in the input so far
|- Index:     4
|- Line:      15
|- Cursor:    168
|- Column:    11
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 3 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [should]
|- Current word:   [output] <---
|- Next word:      [end]
|- ---
|- State:     TEXT
|- Content:   [A test template
 this should output the start marker <% this should]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'output' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 175

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 18

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [output]
-- }}} --

-- {{{ -Word 'the' --
+-- {{{ - Column 18 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   this should output the end marker %%>
|  ------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (38) scanned in the input so far
|- Index:     4
|- Line:      15
|- Cursor:    175
|- Column:    18
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 4 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [output]
|- Current word:   [the] <---
|- Next word:      [marker]
|- ---
|- State:     TEXT
|- Content:   [A test template
 this should output the start marker <% this should output]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'the' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 179

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 22

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [the]
-- }}} --

-- {{{ -Word 'end' --
+-- {{{ - Column 22 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   this should output the end marker %%>
|  ----------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (39) scanned in the input so far
|- Index:     4
|- Line:      15
|- Cursor:    179
|- Column:    22
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 5 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [the]
|- Current word:   [end] <---
|- Next word:      [%%>]
|- ---
|- State:     TEXT
|- Content:   [A test template
 this should output the start marker <% this should output the]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'end' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 183

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 26

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [end]
-- }}} --

-- {{{ -Word 'marker' --
+-- {{{ - Column 26 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   this should output the end marker %%>
|  --------------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (40) scanned in the input so far
|- Index:     4
|- Line:      15
|- Cursor:    183
|- Column:    26
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 6 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [end]
|- Current word:   [marker] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [A test template
 this should output the start marker <% this should output the end]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'marker' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 190

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 33

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [marker]
-- }}} --

-- {{{ -Word '%%>' --
+-- {{{ - Column 33 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   this should output the end marker %%>
|  ---------------------------------^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (41) scanned in the input so far
|- Index:     4
|- Line:      15
|- Cursor:    190
|- Column:    33
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 7 of 7 in this line
|- Is first word:  False
|- Is last word:  True
|- Previous word:  [marker]
|- Current word:   [%%>] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [A test template
 this should output the start marker <% this should output the end marker]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '%%>' for matches
-- {{{ SCAN MATCH: End Tag --
- Characters found before end tag
ESCAPED END - Add end tag to content
- Adding  %> to content

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 193

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 36

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
-- }}} --
END OF LINE
-- }}} --
-- {{{ - Line 16 --
No Carriage Return found
Current line: ''
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 1 words
-- {{{ -Word '' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   
|  -^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (42) scanned in the input so far
|- Index:     4
|- Line:      16
|- Cursor:    193
|- Column:    1
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 1 of 1 in this line
|- Is first word:  True
|- Is last word:  True
|- Previous word:  [marker]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [A test template
 this should output the start marker <% this should output the end marker %>]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '' for matches
-- {{{ SCAN MATCH: space character --

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 194

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 2

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word []
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 17 --
No Carriage Return found
Current line: '<%\#\ this\ should\ be\ a\ comment\ \#%>'
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 7 words
-- {{{ -Word '<%\#' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%# this should be a comment #%>
|  -^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (43) scanned in the input so far
|- Index:     4
|- Line:      17
|- Cursor:    194
|- Column:    1
|- ---
|- Start:    Line: 10:32 - Index 105
|- End:      Line: 10:31 - Index 104
|- ---
|- This is word 1 of 7 in this line
|- Is first word:  True
|- Is last word:  False
|- Previous word:  []
|- Current word:   [<%#] <---
|- Next word:      [should]
|- ---
|- State:     TEXT
|- Content:   [A test template
 this should output the start marker <% this should output the end marker %> ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '<%#' for matches
-- {{{ SCAN MATCH: Start tag --
- Characters found after start tag
Characters found is a Prefix
Check condition when state is TEXT
-- {{{ START TAG :: default --
There is content from the previous block.  Create token
- Set End position for the previous content before advancing
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%# this should be a comment #%>
|  -^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Set Index to 194
Set Line to 17
Set Column to 1

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Type = 'text'
    Indent = ''
    End = @{
        Line = 17
        Column = 1
        Index = 194
    }
    Start = @{
        Line = 10
        Column = 32
        Index = 105
    }
    Content = 'A test template
 this should output the start marker <% this should output the end marker %> '
    Index = 4
    RemoveIndent = $false
    Prefix = ''
    Suffix = ''
    RemoveNewLine = $false
    RemainingWhiteSpace = ''
}


--------------------------------------------------------------------------------
-- Begin New-TextToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End New-TextToken
--------------------------------------------------------------------------------
Creating Token 4: TokenInfo :
 @{
    PSTypeName = 'Stencil.Template.TextToken'
    RemainingWhiteSpace = ''
    End = @{
        Line = 17
        Column = 1
        Index = 194
    }
    Suffix = ''
    Content = 'A test template
 this should output the start marker <% this should output the end marker %> '
    Start = @{
        Line = 10
        Column = 32
        Index = 105
    }
    RemoveNewLine = $false
    Length = 93
    Prefix = ''
    Type = 'TEXT'
    Indent = ''
    RemoveIndent = $false
    Index = 4
}


--------------------------------------------------------------------------------
-- Begin Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
This token is type TextToken
Creating Text section
Token content: 'A test template
 this should output the start marker <% this should output the end marker %> '
- Block text is ["A test template
 this should output the start marker <% this should output the end marker %> " | Write-Output]

--------------------------------------------------------------------------------
-- End Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 197

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 4

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------
+-- {{{ - Column 04 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%# this should be a comment #%>
|  ----^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 197
Set Line to 17
Set Column to 4

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: TEXT -> OPEN
-- }}} --
-- }}} --
- Store current word as prevWord
Finished scanning word [<%#]
-- }}} --

-- {{{ -Word 'this' --
+-- {{{ - Column 04 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%# this should be a comment #%>
|  ----^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (44) scanned in the input so far
|- Index:     5
|- Line:      17
|- Cursor:    197
|- Column:    4
|- ---
|- Start:    Line: 17:4 - Index 197
|- End:      Line: 17:1 - Index 194
|- ---
|- This is word 2 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [<%#]
|- Current word:   [this] <---
|- Next word:      [be]
|- ---
|- State:     OPEN
|- Content:   []
|- Prefix:    [#]
|- Suffix:    []
-- }}} --
Scanning current word 'this' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is OPEN
- state condition: OPEN
STATE CHANGE: OPEN -> ELMT

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 202

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 9

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [this]
-- }}} --

-- {{{ -Word 'should' --
+-- {{{ - Column 09 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%# this should be a comment #%>
|  ---------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (45) scanned in the input so far
|- Index:     5
|- Line:      17
|- Cursor:    202
|- Column:    9
|- ---
|- Start:    Line: 17:4 - Index 197
|- End:      Line: 17:1 - Index 194
|- ---
|- This is word 3 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [this]
|- Current word:   [should] <---
|- Next word:      [a]
|- ---
|- State:     ELMT
|- Content:   [ this]
|- Prefix:    [#]
|- Suffix:    []
-- }}} --
Scanning current word 'should' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 209

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 16

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [should]
-- }}} --

-- {{{ -Word 'be' --
+-- {{{ - Column 16 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%# this should be a comment #%>
|  ----------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (46) scanned in the input so far
|- Index:     5
|- Line:      17
|- Cursor:    209
|- Column:    16
|- ---
|- Start:    Line: 17:4 - Index 197
|- End:      Line: 17:1 - Index 194
|- ---
|- This is word 4 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [should]
|- Current word:   [be] <---
|- Next word:      [comment]
|- ---
|- State:     ELMT
|- Content:   [ this should]
|- Prefix:    [#]
|- Suffix:    []
-- }}} --
Scanning current word 'be' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 212

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 19

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [be]
-- }}} --

-- {{{ -Word 'a' --
+-- {{{ - Column 19 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%# this should be a comment #%>
|  -------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (47) scanned in the input so far
|- Index:     5
|- Line:      17
|- Cursor:    212
|- Column:    19
|- ---
|- Start:    Line: 17:4 - Index 197
|- End:      Line: 17:1 - Index 194
|- ---
|- This is word 5 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [be]
|- Current word:   [a] <---
|- Next word:      [#%>]
|- ---
|- State:     ELMT
|- Content:   [ this should be]
|- Prefix:    [#]
|- Suffix:    []
-- }}} --
Scanning current word 'a' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 214

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 21

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [a]
-- }}} --

-- {{{ -Word 'comment' --
+-- {{{ - Column 21 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%# this should be a comment #%>
|  ---------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (48) scanned in the input so far
|- Index:     5
|- Line:      17
|- Cursor:    214
|- Column:    21
|- ---
|- Start:    Line: 17:4 - Index 197
|- End:      Line: 17:1 - Index 194
|- ---
|- This is word 6 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [a]
|- Current word:   [comment] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ this should be a]
|- Prefix:    [#]
|- Suffix:    []
-- }}} --
Scanning current word 'comment' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 222

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 29

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [comment]
-- }}} --

-- {{{ -Word '\#%>' --
+-- {{{ - Column 29 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%# this should be a comment #%>
|  -----------------------------^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (49) scanned in the input so far
|- Index:     5
|- Line:      17
|- Cursor:    222
|- Column:    29
|- ---
|- Start:    Line: 17:4 - Index 197
|- End:      Line: 17:1 - Index 194
|- ---
|- This is word 7 of 7 in this line
|- Is first word:  False
|- Is last word:  True
|- Previous word:  [comment]
|- Current word:   [#%>] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ this should be a comment]
|- Prefix:    [#]
|- Suffix:    []
-- }}} --
Scanning current word '#%>' for matches
-- {{{ SCAN MATCH: End Tag --
- Characters found before end tag
- Characters found is a Suffix
Check condition when state is ELMT
-- {{{ END TAG :: default --
- lexeme is [ #%>]

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 226

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 33

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Last word in line 17
- Add LF

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 34

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 227

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
  - And remaining whitespace 1
+-- {{{ - Column 34 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%# this should be a comment #%>
|  ----------------------------------^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Set Index to 227
Set Line to 17
Set Column to 34

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Type = 'elmt'
    Indent = ''
    End = @{
        Line = 17
        Column = 34
        Index = 227
    }
    Start = @{
        Line = 17
        Column = 4
        Index = 197
    }
    Content = ' this should be a comment '
    Index = 5
    RemoveIndent = $false
    Prefix = '#'
    Suffix = '#'
    RemoveNewLine = $false
    RemainingWhiteSpace = ''
}


--------------------------------------------------------------------------------
-- Begin New-CommentToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End New-CommentToken
--------------------------------------------------------------------------------
Creating Token 5: TokenInfo :
 @{
    PSTypeName = 'Stencil.Template.CommentToken'
    RemainingWhiteSpace = ''
    End = @{
        Line = 17
        Column = 34
        Index = 227
    }
    Suffix = '#'
    Content = ' this should be a comment '
    Start = @{
        Line = 17
        Column = 4
        Index = 197
    }
    RemoveNewLine = $false
    Length = 26
    Prefix = '#'
    Type = 'CMNT'
    Indent = ''
    RemoveIndent = $false
    Index = 5
}


--------------------------------------------------------------------------------
-- Begin Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
This token is type CommentToken

--------------------------------------------------------------------------------
-- End Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 228
Set Line to 17
Set Column to 35

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
--}}} --
- Store current word as prevWord
Finished scanning word [#%>]
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 18 --
No Carriage Return found
Current line: ''
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 1 words
-- {{{ -Word '' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   
|  -^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (50) scanned in the input so far
|- Index:     6
|- Line:      18
|- Cursor:    227
|- Column:    1
|- ---
|- Start:    Line: 17:35 - Index 228
|- End:      Line: 17:34 - Index 227
|- ---
|- This is word 1 of 1 in this line
|- Is first word:  True
|- Is last word:  True
|- Previous word:  [#%>]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   []
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '' for matches
-- {{{ SCAN MATCH: space character --

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 228

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 2

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word []
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 19 --
No Carriage Return found
Current line: '\ \ \ \ \ \ \ \ \ \ \ <%-\ BLOCK\ friendly-greeting\ %>'
- Found indentation on this line
-- {{{ Indent :: default --
-- }}} --
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Removing indent from line:
- line is '\ \ \ \ \ \ \ \ \ \ \ <%-\ BLOCK\ friendly-greeting\ %>'
- indent is '\ \ \ \ \ \ \ \ \ \ \ '
- Line length: 41
- indent length: 11
line is now '<%-\ BLOCK\ friendly-greeting\ %>'

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 12

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 239

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
Split line into 4 words
-- {{{ -Word '<%-' --
+-- {{{ - Column 12 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%- BLOCK friendly-greeting %>
|  ------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (51) scanned in the input so far
|- Index:     6
|- Line:      19
|- Cursor:    239
|- Column:    12
|- ---
|- Start:    Line: 17:35 - Index 228
|- End:      Line: 17:34 - Index 227
|- ---
|- This is word 1 of 4 in this line
|- Is first word:  True
|- Is last word:  False
|- Previous word:  []
|- Current word:   [<%-] <---
|- Next word:      [friendly-greeting]
|- ---
|- State:     CLOSE
|- Content:   [ ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '<%-' for matches
-- {{{ SCAN MATCH: Start tag --
- Characters found after start tag
Characters found is a Prefix
Check condition when state is CLOSE
-- {{{ START TAG :: default --
There is content from the previous block.  Create token
- Set End position for the previous content before advancing
+-- {{{ - Column 12 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%- BLOCK friendly-greeting %>
|  ------------^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Set Index to 239
Set Line to 19
Set Column to 12

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Type = 'text'
    Indent = ''
    End = @{
        Line = 19
        Column = 12
        Index = 239
    }
    Start = @{
        Line = 17
        Column = 35
        Index = 228
    }
    Content = ' '
    Index = 6
    RemoveIndent = $false
    Prefix = ''
    Suffix = ''
    RemoveNewLine = $false
    RemainingWhiteSpace = ''
}


--------------------------------------------------------------------------------
-- Begin New-TextToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End New-TextToken
--------------------------------------------------------------------------------
Creating Token 6: TokenInfo :
 @{
    PSTypeName = 'Stencil.Template.TextToken'
    RemainingWhiteSpace = ''
    End = @{
        Line = 19
        Column = 12
        Index = 239
    }
    Suffix = ''
    Content = ' '
    Start = @{
        Line = 17
        Column = 35
        Index = 228
    }
    RemoveNewLine = $false
    Length = 1
    Prefix = ''
    Type = 'TEXT'
    Indent = ''
    RemoveIndent = $false
    Index = 6
}


--------------------------------------------------------------------------------
-- Begin Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
This token is type TextToken
Creating Text section
Token content: ' '
- Block text is [" " | Write-Output]

--------------------------------------------------------------------------------
-- End Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 243

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 16

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------
+-- {{{ - Column 16 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%- BLOCK friendly-greeting %>
|  ----------------^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 243
Set Line to 19
Set Column to 16

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: CLOSE -> OPEN
-- }}} --
-- }}} --
- Store current word as prevWord
Finished scanning word [<%-]
-- }}} --

-- {{{ -Word 'BLOCK' --
+-- {{{ - Column 16 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%- BLOCK friendly-greeting %>
|  ----------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (52) scanned in the input so far
|- Index:     7
|- Line:      19
|- Cursor:    243
|- Column:    16
|- ---
|- Start:    Line: 19:16 - Index 243
|- End:      Line: 19:12 - Index 239
|- ---
|- This is word 2 of 4 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [<%-]
|- Current word:   [BLOCK] <---
|- Next word:      [%>]
|- ---
|- State:     OPEN
|- Content:   []
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word 'BLOCK' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is OPEN
- state condition: OPEN
STATE CHANGE: OPEN -> ELMT

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 249

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 22

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [BLOCK]
-- }}} --

-- {{{ -Word 'friendly-greeting' --
+-- {{{ - Column 22 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%- BLOCK friendly-greeting %>
|  ----------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (53) scanned in the input so far
|- Index:     7
|- Line:      19
|- Cursor:    249
|- Column:    22
|- ---
|- Start:    Line: 19:16 - Index 243
|- End:      Line: 19:12 - Index 239
|- ---
|- This is word 3 of 4 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [BLOCK]
|- Current word:   [friendly-greeting] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ BLOCK]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word 'friendly-greeting' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 267

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 40

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [friendly-greeting]
-- }}} --

-- {{{ -Word '%>' --
+-- {{{ - Column 40 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%- BLOCK friendly-greeting %>
|  ----------------------------------------^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (54) scanned in the input so far
|- Index:     7
|- Line:      19
|- Cursor:    267
|- Column:    40
|- ---
|- Start:    Line: 19:16 - Index 243
|- End:      Line: 19:12 - Index 239
|- ---
|- This is word 4 of 4 in this line
|- Is first word:  False
|- Is last word:  True
|- Previous word:  [friendly-greeting]
|- Current word:   [%>] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ BLOCK friendly-greeting]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word '%>' for matches
-- {{{ SCAN MATCH: End Tag --
-- No characters found before end tag
Check condition when state is ELMT
-- {{{ END TAG :: default --
- lexeme is [ %>]

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 270

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 43

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Last word in line 19
- Add LF

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 44

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 271

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
  - And remaining whitespace 1
+-- {{{ - Column 44 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%- BLOCK friendly-greeting %>
|  --------------------------------------------^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Set Index to 271
Set Line to 19
Set Column to 44

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Type = 'elmt'
    Indent = '           '
    End = @{
        Line = 19
        Column = 44
        Index = 271
    }
    Start = @{
        Line = 19
        Column = 16
        Index = 243
    }
    Content = ' BLOCK friendly-greeting '
    Index = 7
    RemoveIndent = $false
    Prefix = '-'
    Suffix = ''
    RemoveNewLine = $false
    RemainingWhiteSpace = ''
}

Creating Token 7: TokenInfo :
 @{
    PSTypeName = 'Stencil.TemplateToken.Elmt'
    RemainingWhiteSpace = ''
    End = @{
        Line = 19
        Column = 44
        Index = 271
    }
    Suffix = ''
    Content = ' BLOCK friendly-greeting '
    Start = @{
        Line = 19
        Column = 16
        Index = 243
    }
    RemoveNewLine = $false
    Length = 25
    Prefix = '-'
    Type = 'ELMT'
    Indent = '           '
    RemoveIndent = $true
    Index = 7
}


--------------------------------------------------------------------------------
-- Begin Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
This token is type Elmt

--------------------------------------------------------------------------------
-- End Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 272
Set Line to 19
Set Column to 45

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
--}}} --
- Store current word as prevWord
Finished scanning word [%>]
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 20 --
No Carriage Return found
Current line: ''
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 1 words
-- {{{ -Word '' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   
|  -^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (55) scanned in the input so far
|- Index:     8
|- Line:      20
|- Cursor:    271
|- Column:    1
|- ---
|- Start:    Line: 19:45 - Index 272
|- End:      Line: 19:44 - Index 271
|- ---
|- This is word 1 of 1 in this line
|- Is first word:  True
|- Is last word:  True
|- Previous word:  [%>]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   []
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '' for matches
-- {{{ SCAN MATCH: space character --

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 272

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 2

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word []
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 21 --
No Carriage Return found
Current line: 'This\ should\ say\ 'Hello\ World!'\ :\ <%=\ \$Greeting\ %>\ World!'
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 10 words
-- {{{ -Word 'This' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   This should say 'Hello World!' : <%= $Greeting %> World!
|  -^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (56) scanned in the input so far
|- Index:     8
|- Line:      21
|- Cursor:    272
|- Column:    1
|- ---
|- Start:    Line: 19:45 - Index 272
|- End:      Line: 19:44 - Index 271
|- ---
|- This is word 1 of 10 in this line
|- Is first word:  True
|- Is last word:  False
|- Previous word:  []
|- Current word:   [This] <---
|- Next word:      [say]
|- ---
|- State:     CLOSE
|- Content:   [ ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'This' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is CLOSE
- state condition: CLOSE
STATE CHANGE: CLOSE -> TEXT

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 275

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 4

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [This]
-- }}} --

-- {{{ -Word 'should' --
+-- {{{ - Column 04 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   This should say 'Hello World!' : <%= $Greeting %> World!
|  ----^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (57) scanned in the input so far
|- Index:     8
|- Line:      21
|- Cursor:    275
|- Column:    4
|- ---
|- Start:    Line: 19:45 - Index 272
|- End:      Line: 19:44 - Index 271
|- ---
|- This is word 2 of 10 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [This]
|- Current word:   [should] <---
|- Next word:      ['Hello]
|- ---
|- State:     TEXT
|- Content:   [ This]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'should' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 282

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 11

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [should]
-- }}} --

-- {{{ -Word 'say' --
+-- {{{ - Column 11 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   This should say 'Hello World!' : <%= $Greeting %> World!
|  -----------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (58) scanned in the input so far
|- Index:     8
|- Line:      21
|- Cursor:    282
|- Column:    11
|- ---
|- Start:    Line: 19:45 - Index 272
|- End:      Line: 19:44 - Index 271
|- ---
|- This is word 3 of 10 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [should]
|- Current word:   [say] <---
|- Next word:      [World!']
|- ---
|- State:     TEXT
|- Content:   [ This should]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'say' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 286

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 15

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [say]
-- }}} --

-- {{{ -Word ''Hello' --
+-- {{{ - Column 15 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   This should say 'Hello World!' : <%= $Greeting %> World!
|  ---------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (59) scanned in the input so far
|- Index:     8
|- Line:      21
|- Cursor:    286
|- Column:    15
|- ---
|- Start:    Line: 19:45 - Index 272
|- End:      Line: 19:44 - Index 271
|- ---
|- This is word 4 of 10 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [say]
|- Current word:   ['Hello] <---
|- Next word:      [:]
|- ---
|- State:     TEXT
|- Content:   [ This should say]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word ''Hello' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 293

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 22

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word ['Hello]
-- }}} --

-- {{{ -Word 'World!'' --
+-- {{{ - Column 22 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   This should say 'Hello World!' : <%= $Greeting %> World!
|  ----------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (60) scanned in the input so far
|- Index:     8
|- Line:      21
|- Cursor:    293
|- Column:    22
|- ---
|- Start:    Line: 19:45 - Index 272
|- End:      Line: 19:44 - Index 271
|- ---
|- This is word 5 of 10 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  ['Hello]
|- Current word:   [World!'] <---
|- Next word:      [<%=]
|- ---
|- State:     TEXT
|- Content:   [ This should say 'Hello]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'World!'' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 301

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 30

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [World!']
-- }}} --

-- {{{ -Word ':' --
+-- {{{ - Column 30 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   This should say 'Hello World!' : <%= $Greeting %> World!
|  ------------------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (61) scanned in the input so far
|- Index:     8
|- Line:      21
|- Cursor:    301
|- Column:    30
|- ---
|- Start:    Line: 19:45 - Index 272
|- End:      Line: 19:44 - Index 271
|- ---
|- This is word 6 of 10 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [World!']
|- Current word:   [:] <---
|- Next word:      [$Greeting]
|- ---
|- State:     TEXT
|- Content:   [ This should say 'Hello World!']
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word ':' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 303

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 32

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [:]
-- }}} --

-- {{{ -Word '<%=' --
+-- {{{ - Column 32 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   This should say 'Hello World!' : <%= $Greeting %> World!
|  --------------------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (62) scanned in the input so far
|- Index:     8
|- Line:      21
|- Cursor:    303
|- Column:    32
|- ---
|- Start:    Line: 19:45 - Index 272
|- End:      Line: 19:44 - Index 271
|- ---
|- This is word 7 of 10 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [:]
|- Current word:   [<%=] <---
|- Next word:      [%>]
|- ---
|- State:     TEXT
|- Content:   [ This should say 'Hello World!' :]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '<%=' for matches
-- {{{ SCAN MATCH: Start tag --
- Characters found after start tag
Characters found is a Prefix
Check condition when state is TEXT
-- {{{ START TAG :: default --
There is content from the previous block.  Create token
- Set End position for the previous content before advancing
+-- {{{ - Column 32 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   This should say 'Hello World!' : <%= $Greeting %> World!
|  --------------------------------^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Set Index to 303
Set Line to 21
Set Column to 32

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Type = 'text'
    Indent = ''
    End = @{
        Line = 21
        Column = 32
        Index = 303
    }
    Start = @{
        Line = 19
        Column = 45
        Index = 272
    }
    Content = ' This should say ''Hello World!'' :'
    Index = 8
    RemoveIndent = $false
    Prefix = ''
    Suffix = ''
    RemoveNewLine = $false
    RemainingWhiteSpace = ''
}


--------------------------------------------------------------------------------
-- Begin New-TextToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End New-TextToken
--------------------------------------------------------------------------------
Creating Token 8: TokenInfo :
 @{
    PSTypeName = 'Stencil.Template.TextToken'
    RemainingWhiteSpace = ''
    End = @{
        Line = 21
        Column = 32
        Index = 303
    }
    Suffix = ''
    Content = ' This should say ''Hello World!'' :'
    Start = @{
        Line = 19
        Column = 45
        Index = 272
    }
    RemoveNewLine = $false
    Length = 33
    Prefix = ''
    Type = 'TEXT'
    Indent = ''
    RemoveIndent = $false
    Index = 8
}


--------------------------------------------------------------------------------
-- Begin Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
This token is type TextToken
Creating Text section
Token content: ' This should say 'Hello World!' :'
- Block text is [" This should say 'Hello World!' :" | Write-Output]

--------------------------------------------------------------------------------
-- End Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 305

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 34

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------
+-- {{{ - Column 34 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   This should say 'Hello World!' : <%= $Greeting %> World!
|  ----------------------------------^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 305
Set Line to 21
Set Column to 34

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: TEXT -> OPEN
-- }}} --
-- }}} --
- Store current word as prevWord
Finished scanning word [<%=]
-- }}} --

-- {{{ -Word '\$Greeting' --
+-- {{{ - Column 34 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   This should say 'Hello World!' : <%= $Greeting %> World!
|  ----------------------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (63) scanned in the input so far
|- Index:     9
|- Line:      21
|- Cursor:    305
|- Column:    34
|- ---
|- Start:    Line: 21:34 - Index 305
|- End:      Line: 21:32 - Index 303
|- ---
|- This is word 8 of 10 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [<%=]
|- Current word:   [$Greeting] <---
|- Next word:      [World!]
|- ---
|- State:     OPEN
|- Content:   []
|- Prefix:    [=]
|- Suffix:    []
-- }}} --
Scanning current word '$Greeting' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is OPEN
- state condition: OPEN
STATE CHANGE: OPEN -> ELMT

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 315

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 44

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [$Greeting]
-- }}} --

-- {{{ -Word '%>' --
+-- {{{ - Column 44 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   This should say 'Hello World!' : <%= $Greeting %> World!
|  --------------------------------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (64) scanned in the input so far
|- Index:     9
|- Line:      21
|- Cursor:    315
|- Column:    44
|- ---
|- Start:    Line: 21:34 - Index 305
|- End:      Line: 21:32 - Index 303
|- ---
|- This is word 9 of 10 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [$Greeting]
|- Current word:   [%>] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ $Greeting]
|- Prefix:    [=]
|- Suffix:    []
-- }}} --
Scanning current word '%>' for matches
-- {{{ SCAN MATCH: End Tag --
-- No characters found before end tag
Check condition when state is ELMT
-- {{{ END TAG :: default --
- lexeme is [ %>]

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 318

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 47

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
  - And remaining whitespace 0
+-- {{{ - Column 47 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   This should say 'Hello World!' : <%= $Greeting %> World!
|  -----------------------------------------------^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Set Index to 318
Set Line to 21
Set Column to 47

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Type = 'elmt'
    Indent = ''
    End = @{
        Line = 21
        Column = 47
        Index = 318
    }
    Start = @{
        Line = 21
        Column = 34
        Index = 305
    }
    Content = ' $Greeting '
    Index = 9
    RemoveIndent = $false
    Prefix = '='
    Suffix = ''
    RemoveNewLine = $false
    RemainingWhiteSpace = ''
}

Creating Token 9: TokenInfo :
 @{
    PSTypeName = 'Stencil.Template.ExpressionToken'
    RemainingWhiteSpace = ''
    End = @{
        Line = 21
        Column = 47
        Index = 318
    }
    Suffix = ''
    Content = ' $Greeting '
    Start = @{
        Line = 21
        Column = 34
        Index = 305
    }
    RemoveNewLine = $false
    Length = 11
    Prefix = '='
    Type = 'STMT'
    Indent = ''
    RemoveIndent = $false
    Index = 9
}


--------------------------------------------------------------------------------
-- Begin Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
This token is type ExpressionToken

--------------------------------------------------------------------------------
-- End Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 319
Set Line to 21
Set Column to 48

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
--}}} --
- Store current word as prevWord
Finished scanning word [%>]
-- }}} --

-- {{{ -Word 'World!' --
+-- {{{ - Column 47 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   This should say 'Hello World!' : <%= $Greeting %> World!
|  -----------------------------------------------^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (65) scanned in the input so far
|- Index:     10
|- Line:      21
|- Cursor:    318
|- Column:    47
|- ---
|- Start:    Line: 21:48 - Index 319
|- End:      Line: 21:47 - Index 318
|- ---
|- This is word 10 of 10 in this line
|- Is first word:  False
|- Is last word:  True
|- Previous word:  [%>]
|- Current word:   [World!] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   []
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'World!' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is CLOSE
- state condition: CLOSE
STATE CHANGE: CLOSE -> TEXT

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 325

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 54

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
- Last word in line 21
- Add LF

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 55

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 326

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word [World!]
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 22 --
No Carriage Return found
Current line: ''
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 1 words
-- {{{ -Word '' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   
|  -^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (66) scanned in the input so far
|- Index:     10
|- Line:      22
|- Cursor:    326
|- Column:    1
|- ---
|- Start:    Line: 21:48 - Index 319
|- End:      Line: 21:47 - Index 318
|- ---
|- This is word 1 of 1 in this line
|- Is first word:  True
|- Is last word:  True
|- Previous word:  [World!]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [ World!
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '' for matches
-- {{{ SCAN MATCH: space character --

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 327

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 2

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word []
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 23 --
No Carriage Return found
Current line: '<%\ END\ %>'
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 3 words
-- {{{ -Word '<%' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <% END %>
|  -^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (67) scanned in the input so far
|- Index:     10
|- Line:      23
|- Cursor:    327
|- Column:    1
|- ---
|- Start:    Line: 21:48 - Index 319
|- End:      Line: 21:47 - Index 318
|- ---
|- This is word 1 of 3 in this line
|- Is first word:  True
|- Is last word:  False
|- Previous word:  []
|- Current word:   [<%] <---
|- Next word:      [%>]
|- ---
|- State:     TEXT
|- Content:   [ World!
 ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '<%' for matches
-- {{{ SCAN MATCH: Start tag --
-- No characters found after start tag
Check condition when state is TEXT
-- {{{ START TAG :: default --
There is content from the previous block.  Create token
- Set End position for the previous content before advancing
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <% END %>
|  -^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Set Index to 327
Set Line to 23
Set Column to 1

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Type = 'text'
    Indent = ''
    End = @{
        Line = 23
        Column = 1
        Index = 327
    }
    Start = @{
        Line = 21
        Column = 48
        Index = 319
    }
    Content = ' World!
 '
    Index = 10
    RemoveIndent = $false
    Prefix = ''
    Suffix = ''
    RemoveNewLine = $false
    RemainingWhiteSpace = ''
}


--------------------------------------------------------------------------------
-- Begin New-TextToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End New-TextToken
--------------------------------------------------------------------------------
Creating Token 10: TokenInfo :
 @{
    PSTypeName = 'Stencil.Template.TextToken'
    RemainingWhiteSpace = ''
    End = @{
        Line = 23
        Column = 1
        Index = 327
    }
    Suffix = ''
    Content = ' World!
 '
    Start = @{
        Line = 21
        Column = 48
        Index = 319
    }
    RemoveNewLine = $false
    Length = 9
    Prefix = ''
    Type = 'TEXT'
    Indent = ''
    RemoveIndent = $false
    Index = 10
}


--------------------------------------------------------------------------------
-- Begin Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
This token is type TextToken
Creating Text section
Token content: ' World!
 '
- Block text is [" World!
 " | Write-Output]

--------------------------------------------------------------------------------
-- End Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 334

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 8

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------
+-- {{{ - Column 08 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <% END %>
|  --------^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 334
Set Line to 23
Set Column to 8

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: TEXT -> OPEN
-- }}} --
-- }}} --
- Store current word as prevWord
Finished scanning word [<%]
-- }}} --

-- {{{ -Word 'END' --
+-- {{{ - Column 08 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <% END %>
|  --------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (68) scanned in the input so far
|- Index:     11
|- Line:      23
|- Cursor:    334
|- Column:    8
|- ---
|- Start:    Line: 23:8 - Index 334
|- End:      Line: 23:1 - Index 327
|- ---
|- This is word 2 of 3 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [<%]
|- Current word:   [END] <---
|- Next word:      []
|- ---
|- State:     OPEN
|- Content:   []
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'END' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is OPEN
- state condition: OPEN
STATE CHANGE: OPEN -> ELMT

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 338

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 12

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [END]
-- }}} --

-- {{{ -Word '%>' --
+-- {{{ - Column 12 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <% END %>
|  ------------^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (69) scanned in the input so far
|- Index:     11
|- Line:      23
|- Cursor:    338
|- Column:    12
|- ---
|- Start:    Line: 23:8 - Index 334
|- End:      Line: 23:1 - Index 327
|- ---
|- This is word 3 of 3 in this line
|- Is first word:  False
|- Is last word:  True
|- Previous word:  [END]
|- Current word:   [%>] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ END]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '%>' for matches
-- {{{ SCAN MATCH: End Tag --
-- No characters found before end tag
Check condition when state is ELMT
-- {{{ END TAG :: default --
- lexeme is [ %>]

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 341

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 15

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Last word in line 23
- Add LF

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 16

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 342

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
  - And remaining whitespace 1
+-- {{{ - Column 16 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <% END %>
|  ----------------^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Set Index to 342
Set Line to 23
Set Column to 16

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Type = 'elmt'
    Indent = ''
    End = @{
        Line = 23
        Column = 16
        Index = 342
    }
    Start = @{
        Line = 23
        Column = 8
        Index = 334
    }
    Content = ' END '
    Index = 11
    RemoveIndent = $false
    Prefix = ''
    Suffix = ''
    RemoveNewLine = $false
    RemainingWhiteSpace = ''
}

Creating Token 11: TokenInfo :
 @{
    PSTypeName = 'Stencil.TemplateToken.Elmt'
    RemainingWhiteSpace = ''
    End = @{
        Line = 23
        Column = 16
        Index = 342
    }
    Suffix = ''
    Content = ' END '
    Start = @{
        Line = 23
        Column = 8
        Index = 334
    }
    RemoveNewLine = $false
    Length = 5
    Prefix = ''
    Type = 'ELMT'
    Indent = ''
    RemoveIndent = $false
    Index = 11
}


--------------------------------------------------------------------------------
-- Begin Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
This token is type Elmt

--------------------------------------------------------------------------------
-- End Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 343
Set Line to 23
Set Column to 17

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
--}}} --
- Store current word as prevWord
Finished scanning word [%>]
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 24 --
No Carriage Return found
Current line: ''
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 1 words
-- {{{ -Word '' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   
|  -^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (70) scanned in the input so far
|- Index:     12
|- Line:      24
|- Cursor:    342
|- Column:    1
|- ---
|- Start:    Line: 23:17 - Index 343
|- End:      Line: 23:16 - Index 342
|- ---
|- This is word 1 of 1 in this line
|- Is first word:  True
|- Is last word:  True
|- Previous word:  [%>]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   []
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '' for matches
-- {{{ SCAN MATCH: space character --

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 343

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 2

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word []
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 25 --
No Carriage Return found
Current line: 'Hope\ \ you\ <%=\ \(echo\ "all"\)\ %>\ have\ a\ nice\ day'
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 11 words
-- {{{ -Word 'Hope' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   Hope  you <%= (echo "all") %> have a nice day
|  -^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (71) scanned in the input so far
|- Index:     12
|- Line:      25
|- Cursor:    343
|- Column:    1
|- ---
|- Start:    Line: 23:17 - Index 343
|- End:      Line: 23:16 - Index 342
|- ---
|- This is word 1 of 11 in this line
|- Is first word:  True
|- Is last word:  False
|- Previous word:  []
|- Current word:   [Hope] <---
|- Next word:      [you]
|- ---
|- State:     CLOSE
|- Content:   [ ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'Hope' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is CLOSE
- state condition: CLOSE
STATE CHANGE: CLOSE -> TEXT

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 346

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 4

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [Hope]
-- }}} --

-- {{{ -Word '' --
+-- {{{ - Column 04 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   Hope  you <%= (echo "all") %> have a nice day
|  ----^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (72) scanned in the input so far
|- Index:     12
|- Line:      25
|- Cursor:    346
|- Column:    4
|- ---
|- Start:    Line: 23:17 - Index 343
|- End:      Line: 23:16 - Index 342
|- ---
|- This is word 2 of 11 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [Hope]
|- Current word:   [] <---
|- Next word:      [<%=]
|- ---
|- State:     TEXT
|- Content:   [ Hope]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '' for matches
-- {{{ SCAN MATCH: space character --

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 347

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 5

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word []
-- }}} --

-- {{{ -Word 'you' --
+-- {{{ - Column 05 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   Hope  you <%= (echo "all") %> have a nice day
|  -----^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (73) scanned in the input so far
|- Index:     12
|- Line:      25
|- Cursor:    347
|- Column:    5
|- ---
|- Start:    Line: 23:17 - Index 343
|- End:      Line: 23:16 - Index 342
|- ---
|- This is word 3 of 11 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  []
|- Current word:   [you] <---
|- Next word:      [(echo]
|- ---
|- State:     TEXT
|- Content:   [ Hope ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'you' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 351

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 9

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [you]
-- }}} --

-- {{{ -Word '<%=' --
+-- {{{ - Column 09 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   Hope  you <%= (echo "all") %> have a nice day
|  ---------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (74) scanned in the input so far
|- Index:     12
|- Line:      25
|- Cursor:    351
|- Column:    9
|- ---
|- Start:    Line: 23:17 - Index 343
|- End:      Line: 23:16 - Index 342
|- ---
|- This is word 4 of 11 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [you]
|- Current word:   [<%=] <---
|- Next word:      ["all")]
|- ---
|- State:     TEXT
|- Content:   [ Hope  you]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '<%=' for matches
-- {{{ SCAN MATCH: Start tag --
- Characters found after start tag
Characters found is a Prefix
Check condition when state is TEXT
-- {{{ START TAG :: default --
There is content from the previous block.  Create token
- Set End position for the previous content before advancing
+-- {{{ - Column 09 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   Hope  you <%= (echo "all") %> have a nice day
|  ---------^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Set Index to 351
Set Line to 25
Set Column to 9

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Type = 'text'
    Indent = ''
    End = @{
        Line = 25
        Column = 9
        Index = 351
    }
    Start = @{
        Line = 23
        Column = 17
        Index = 343
    }
    Content = ' Hope  you'
    Index = 12
    RemoveIndent = $false
    Prefix = ''
    Suffix = ''
    RemoveNewLine = $false
    RemainingWhiteSpace = ''
}


--------------------------------------------------------------------------------
-- Begin New-TextToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End New-TextToken
--------------------------------------------------------------------------------
Creating Token 12: TokenInfo :
 @{
    PSTypeName = 'Stencil.Template.TextToken'
    RemainingWhiteSpace = ''
    End = @{
        Line = 25
        Column = 9
        Index = 351
    }
    Suffix = ''
    Content = ' Hope  you'
    Start = @{
        Line = 23
        Column = 17
        Index = 343
    }
    RemoveNewLine = $false
    Length = 10
    Prefix = ''
    Type = 'TEXT'
    Indent = ''
    RemoveIndent = $false
    Index = 12
}


--------------------------------------------------------------------------------
-- Begin Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
This token is type TextToken
Creating Text section
Token content: ' Hope  you'
- Block text is [" Hope  you" | Write-Output]

--------------------------------------------------------------------------------
-- End Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 355

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 13

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------
+-- {{{ - Column 13 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   Hope  you <%= (echo "all") %> have a nice day
|  -------------^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 355
Set Line to 25
Set Column to 13

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: TEXT -> OPEN
-- }}} --
-- }}} --
- Store current word as prevWord
Finished scanning word [<%=]
-- }}} --

-- {{{ -Word '\(echo' --
+-- {{{ - Column 13 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   Hope  you <%= (echo "all") %> have a nice day
|  -------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (75) scanned in the input so far
|- Index:     13
|- Line:      25
|- Cursor:    355
|- Column:    13
|- ---
|- Start:    Line: 25:13 - Index 355
|- End:      Line: 25:9 - Index 351
|- ---
|- This is word 5 of 11 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [<%=]
|- Current word:   [(echo] <---
|- Next word:      [%>]
|- ---
|- State:     OPEN
|- Content:   []
|- Prefix:    [=]
|- Suffix:    []
-- }}} --
Scanning current word '(echo' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is OPEN
- state condition: OPEN
STATE CHANGE: OPEN -> ELMT

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 361

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 19

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [(echo]
-- }}} --

-- {{{ -Word '"all"\)' --
+-- {{{ - Column 19 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   Hope  you <%= (echo "all") %> have a nice day
|  -------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (76) scanned in the input so far
|- Index:     13
|- Line:      25
|- Cursor:    361
|- Column:    19
|- ---
|- Start:    Line: 25:13 - Index 355
|- End:      Line: 25:9 - Index 351
|- ---
|- This is word 6 of 11 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [(echo]
|- Current word:   ["all")] <---
|- Next word:      [have]
|- ---
|- State:     ELMT
|- Content:   [ (echo]
|- Prefix:    [=]
|- Suffix:    []
-- }}} --
Scanning current word '"all")' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 368

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 26

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word ["all")]
-- }}} --

-- {{{ -Word '%>' --
+-- {{{ - Column 26 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   Hope  you <%= (echo "all") %> have a nice day
|  --------------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (77) scanned in the input so far
|- Index:     13
|- Line:      25
|- Cursor:    368
|- Column:    26
|- ---
|- Start:    Line: 25:13 - Index 355
|- End:      Line: 25:9 - Index 351
|- ---
|- This is word 7 of 11 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  ["all")]
|- Current word:   [%>] <---
|- Next word:      [a]
|- ---
|- State:     ELMT
|- Content:   [ (echo "all")]
|- Prefix:    [=]
|- Suffix:    []
-- }}} --
Scanning current word '%>' for matches
-- {{{ SCAN MATCH: End Tag --
-- No characters found before end tag
Check condition when state is ELMT
-- {{{ END TAG :: default --
- lexeme is [ %>]

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 371

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 29

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
  - And remaining whitespace 0
+-- {{{ - Column 29 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   Hope  you <%= (echo "all") %> have a nice day
|  -----------------------------^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Set Index to 371
Set Line to 25
Set Column to 29

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Type = 'elmt'
    Indent = ''
    End = @{
        Line = 25
        Column = 29
        Index = 371
    }
    Start = @{
        Line = 25
        Column = 13
        Index = 355
    }
    Content = ' (echo "all") '
    Index = 13
    RemoveIndent = $false
    Prefix = '='
    Suffix = ''
    RemoveNewLine = $false
    RemainingWhiteSpace = ''
}

Creating Token 13: TokenInfo :
 @{
    PSTypeName = 'Stencil.Template.ExpressionToken'
    RemainingWhiteSpace = ''
    End = @{
        Line = 25
        Column = 29
        Index = 371
    }
    Suffix = ''
    Content = ' (echo "all") '
    Start = @{
        Line = 25
        Column = 13
        Index = 355
    }
    RemoveNewLine = $false
    Length = 14
    Prefix = '='
    Type = 'STMT'
    Indent = ''
    RemoveIndent = $false
    Index = 13
}


--------------------------------------------------------------------------------
-- Begin Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
This token is type ExpressionToken

--------------------------------------------------------------------------------
-- End Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 372
Set Line to 25
Set Column to 30

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
--}}} --
- Store current word as prevWord
Finished scanning word [%>]
-- }}} --

-- {{{ -Word 'have' --
+-- {{{ - Column 29 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   Hope  you <%= (echo "all") %> have a nice day
|  -----------------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (78) scanned in the input so far
|- Index:     14
|- Line:      25
|- Cursor:    371
|- Column:    29
|- ---
|- Start:    Line: 25:30 - Index 372
|- End:      Line: 25:29 - Index 371
|- ---
|- This is word 8 of 11 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [%>]
|- Current word:   [have] <---
|- Next word:      [nice]
|- ---
|- State:     CLOSE
|- Content:   []
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'have' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is CLOSE
- state condition: CLOSE
STATE CHANGE: CLOSE -> TEXT

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 376

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 34

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [have]
-- }}} --

-- {{{ -Word 'a' --
+-- {{{ - Column 34 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   Hope  you <%= (echo "all") %> have a nice day
|  ----------------------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (79) scanned in the input so far
|- Index:     14
|- Line:      25
|- Cursor:    376
|- Column:    34
|- ---
|- Start:    Line: 25:30 - Index 372
|- End:      Line: 25:29 - Index 371
|- ---
|- This is word 9 of 11 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [have]
|- Current word:   [a] <---
|- Next word:      [day]
|- ---
|- State:     TEXT
|- Content:   [ have]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'a' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 378

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 36

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [a]
-- }}} --

-- {{{ -Word 'nice' --
+-- {{{ - Column 36 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   Hope  you <%= (echo "all") %> have a nice day
|  ------------------------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (80) scanned in the input so far
|- Index:     14
|- Line:      25
|- Cursor:    378
|- Column:    36
|- ---
|- Start:    Line: 25:30 - Index 372
|- End:      Line: 25:29 - Index 371
|- ---
|- This is word 10 of 11 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [a]
|- Current word:   [nice] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [ have a]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'nice' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 383

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 41

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [nice]
-- }}} --

-- {{{ -Word 'day' --
+-- {{{ - Column 41 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   Hope  you <%= (echo "all") %> have a nice day
|  -----------------------------------------^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (81) scanned in the input so far
|- Index:     14
|- Line:      25
|- Cursor:    383
|- Column:    41
|- ---
|- Start:    Line: 25:30 - Index 372
|- End:      Line: 25:29 - Index 371
|- ---
|- This is word 11 of 11 in this line
|- Is first word:  False
|- Is last word:  True
|- Previous word:  [nice]
|- Current word:   [day] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [ have a nice]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'day' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is TEXT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 387

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 45

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
- Last word in line 25
- Add LF

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 46

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 388

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word [day]
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 26 --
No Carriage Return found
Current line: ''
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 1 words
-- {{{ -Word '' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   
|  -^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (82) scanned in the input so far
|- Index:     14
|- Line:      26
|- Cursor:    388
|- Column:    1
|- ---
|- Start:    Line: 25:30 - Index 372
|- End:      Line: 25:29 - Index 371
|- ---
|- This is word 1 of 1 in this line
|- Is first word:  True
|- Is last word:  True
|- Previous word:  [day]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     TEXT
|- Content:   [ have a nice day
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '' for matches
-- {{{ SCAN MATCH: space character --

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 389

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 2

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word []
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 27 --
No Carriage Return found
Current line: '<%\ foreach\ \(\$item\ in\ \$items\)\ \{'
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 6 words
-- {{{ -Word '<%' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <% foreach ($item in $items) {
|  -^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (83) scanned in the input so far
|- Index:     14
|- Line:      27
|- Cursor:    389
|- Column:    1
|- ---
|- Start:    Line: 25:30 - Index 372
|- End:      Line: 25:29 - Index 371
|- ---
|- This is word 1 of 6 in this line
|- Is first word:  True
|- Is last word:  False
|- Previous word:  []
|- Current word:   [<%] <---
|- Next word:      [($item]
|- ---
|- State:     TEXT
|- Content:   [ have a nice day
 ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '<%' for matches
-- {{{ SCAN MATCH: Start tag --
-- No characters found after start tag
Check condition when state is TEXT
-- {{{ START TAG :: default --
There is content from the previous block.  Create token
- Set End position for the previous content before advancing
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <% foreach ($item in $items) {
|  -^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Set Index to 389
Set Line to 27
Set Column to 1

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Type = 'text'
    Indent = ''
    End = @{
        Line = 27
        Column = 1
        Index = 389
    }
    Start = @{
        Line = 25
        Column = 30
        Index = 372
    }
    Content = ' have a nice day
 '
    Index = 14
    RemoveIndent = $false
    Prefix = ''
    Suffix = ''
    RemoveNewLine = $false
    RemainingWhiteSpace = ''
}


--------------------------------------------------------------------------------
-- Begin New-TextToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End New-TextToken
--------------------------------------------------------------------------------
Creating Token 14: TokenInfo :
 @{
    PSTypeName = 'Stencil.Template.TextToken'
    RemainingWhiteSpace = ''
    End = @{
        Line = 27
        Column = 1
        Index = 389
    }
    Suffix = ''
    Content = ' have a nice day
 '
    Start = @{
        Line = 25
        Column = 30
        Index = 372
    }
    RemoveNewLine = $false
    Length = 18
    Prefix = ''
    Type = 'TEXT'
    Indent = ''
    RemoveIndent = $false
    Index = 14
}


--------------------------------------------------------------------------------
-- Begin Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
This token is type TextToken
Creating Text section
Token content: ' have a nice day
 '
- Block text is [" have a nice day
 " | Write-Output]

--------------------------------------------------------------------------------
-- End Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 393

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 5

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------
+-- {{{ - Column 05 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <% foreach ($item in $items) {
|  -----^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 393
Set Line to 27
Set Column to 5

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: TEXT -> OPEN
-- }}} --
-- }}} --
- Store current word as prevWord
Finished scanning word [<%]
-- }}} --

-- {{{ -Word 'foreach' --
+-- {{{ - Column 05 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <% foreach ($item in $items) {
|  -----^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (84) scanned in the input so far
|- Index:     15
|- Line:      27
|- Cursor:    393
|- Column:    5
|- ---
|- Start:    Line: 27:5 - Index 393
|- End:      Line: 27:1 - Index 389
|- ---
|- This is word 2 of 6 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [<%]
|- Current word:   [foreach] <---
|- Next word:      [in]
|- ---
|- State:     OPEN
|- Content:   []
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'foreach' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is OPEN
- state condition: OPEN
STATE CHANGE: OPEN -> ELMT

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 401

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 13

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [foreach]
-- }}} --

-- {{{ -Word '\(\$item' --
+-- {{{ - Column 13 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <% foreach ($item in $items) {
|  -------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (85) scanned in the input so far
|- Index:     15
|- Line:      27
|- Cursor:    401
|- Column:    13
|- ---
|- Start:    Line: 27:5 - Index 393
|- End:      Line: 27:1 - Index 389
|- ---
|- This is word 3 of 6 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [foreach]
|- Current word:   [($item] <---
|- Next word:      [$items)]
|- ---
|- State:     ELMT
|- Content:   [ foreach]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '($item' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 408

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 20

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [($item]
-- }}} --

-- {{{ -Word 'in' --
+-- {{{ - Column 20 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <% foreach ($item in $items) {
|  --------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (86) scanned in the input so far
|- Index:     15
|- Line:      27
|- Cursor:    408
|- Column:    20
|- ---
|- Start:    Line: 27:5 - Index 393
|- End:      Line: 27:1 - Index 389
|- ---
|- This is word 4 of 6 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [($item]
|- Current word:   [in] <---
|- Next word:      [{]
|- ---
|- State:     ELMT
|- Content:   [ foreach ($item]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'in' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 411

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 23

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [in]
-- }}} --

-- {{{ -Word '\$items\)' --
+-- {{{ - Column 23 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <% foreach ($item in $items) {
|  -----------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (87) scanned in the input so far
|- Index:     15
|- Line:      27
|- Cursor:    411
|- Column:    23
|- ---
|- Start:    Line: 27:5 - Index 393
|- End:      Line: 27:1 - Index 389
|- ---
|- This is word 5 of 6 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [in]
|- Current word:   [$items)] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ foreach ($item in]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '$items)' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 419

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 31

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [$items)]
-- }}} --

-- {{{ -Word '\{' --
+-- {{{ - Column 31 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <% foreach ($item in $items) {
|  -------------------------------^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (88) scanned in the input so far
|- Index:     15
|- Line:      27
|- Cursor:    419
|- Column:    31
|- ---
|- Start:    Line: 27:5 - Index 393
|- End:      Line: 27:1 - Index 389
|- ---
|- This is word 6 of 6 in this line
|- Is first word:  False
|- Is last word:  True
|- Previous word:  [$items)]
|- Current word:   [{] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ foreach ($item in $items)]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '{' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 421

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 33

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
- Last word in line 27
- Add LF

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 34

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 422

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word [{]
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 28 --
No Carriage Return found
Current line: '\ \ \ \ Write-Output\ \$item'
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 6 words
-- {{{ -Word '' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|       Write-Output $item
|  -^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (89) scanned in the input so far
|- Index:     15
|- Line:      28
|- Cursor:    422
|- Column:    1
|- ---
|- Start:    Line: 27:5 - Index 393
|- End:      Line: 27:1 - Index 389
|- ---
|- This is word 1 of 6 in this line
|- Is first word:  True
|- Is last word:  False
|- Previous word:  [{]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ foreach ($item in $items) {
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '' for matches
-- {{{ SCAN MATCH: space character --

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 423

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 2

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word []
-- }}} --

-- {{{ -Word '' --
+-- {{{ - Column 02 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|       Write-Output $item
|  --^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (90) scanned in the input so far
|- Index:     15
|- Line:      28
|- Cursor:    423
|- Column:    2
|- ---
|- Start:    Line: 27:5 - Index 393
|- End:      Line: 27:1 - Index 389
|- ---
|- This is word 2 of 6 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  []
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ foreach ($item in $items) {
 ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '' for matches
-- {{{ SCAN MATCH: space character --

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 424

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 3

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word []
-- }}} --

-- {{{ -Word '' --
+-- {{{ - Column 03 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|       Write-Output $item
|  ---^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (91) scanned in the input so far
|- Index:     15
|- Line:      28
|- Cursor:    424
|- Column:    3
|- ---
|- Start:    Line: 27:5 - Index 393
|- End:      Line: 27:1 - Index 389
|- ---
|- This is word 3 of 6 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  []
|- Current word:   [] <---
|- Next word:      [Write-Output]
|- ---
|- State:     ELMT
|- Content:   [ foreach ($item in $items) {
  ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '' for matches
-- {{{ SCAN MATCH: space character --

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 425

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 4

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word []
-- }}} --

-- {{{ -Word '' --
+-- {{{ - Column 04 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|       Write-Output $item
|  ----^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (92) scanned in the input so far
|- Index:     15
|- Line:      28
|- Cursor:    425
|- Column:    4
|- ---
|- Start:    Line: 27:5 - Index 393
|- End:      Line: 27:1 - Index 389
|- ---
|- This is word 4 of 6 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  []
|- Current word:   [] <---
|- Next word:      [$item]
|- ---
|- State:     ELMT
|- Content:   [ foreach ($item in $items) {
   ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '' for matches
-- {{{ SCAN MATCH: space character --

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 426

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 5

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word []
-- }}} --

-- {{{ -Word 'Write-Output' --
+-- {{{ - Column 05 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|       Write-Output $item
|  -----^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (93) scanned in the input so far
|- Index:     15
|- Line:      28
|- Cursor:    426
|- Column:    5
|- ---
|- Start:    Line: 27:5 - Index 393
|- End:      Line: 27:1 - Index 389
|- ---
|- This is word 5 of 6 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  []
|- Current word:   [Write-Output] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ foreach ($item in $items) {
    ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word 'Write-Output' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 439

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 18

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [Write-Output]
-- }}} --

-- {{{ -Word '\$item' --
+-- {{{ - Column 18 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|       Write-Output $item
|  ------------------^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (94) scanned in the input so far
|- Index:     15
|- Line:      28
|- Cursor:    439
|- Column:    18
|- ---
|- Start:    Line: 27:5 - Index 393
|- End:      Line: 27:1 - Index 389
|- ---
|- This is word 6 of 6 in this line
|- Is first word:  False
|- Is last word:  True
|- Previous word:  [Write-Output]
|- Current word:   [$item] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ foreach ($item in $items) {
     Write-Output]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '$item' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 445

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 24

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
- Last word in line 28
- Add LF

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 25

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 446

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word [$item]
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 29 --
No Carriage Return found
Current line: '}\ %>'
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 2 words
-- {{{ -Word '}' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   } %>
|  -^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (95) scanned in the input so far
|- Index:     15
|- Line:      29
|- Cursor:    446
|- Column:    1
|- ---
|- Start:    Line: 27:5 - Index 393
|- End:      Line: 27:1 - Index 389
|- ---
|- This is word 1 of 2 in this line
|- Is first word:  True
|- Is last word:  False
|- Previous word:  [$item]
|- Current word:   [}] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ foreach ($item in $items) {
     Write-Output $item
]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '}' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 446

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 1

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [}]
-- }}} --

-- {{{ -Word '%>' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   } %>
|  -^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (96) scanned in the input so far
|- Index:     15
|- Line:      29
|- Cursor:    446
|- Column:    1
|- ---
|- Start:    Line: 27:5 - Index 393
|- End:      Line: 27:1 - Index 389
|- ---
|- This is word 2 of 2 in this line
|- Is first word:  False
|- Is last word:  True
|- Previous word:  [}]
|- Current word:   [%>] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ foreach ($item in $items) {
     Write-Output $item
}]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '%>' for matches
-- {{{ SCAN MATCH: End Tag --
-- No characters found before end tag
Check condition when state is ELMT
-- {{{ END TAG :: default --
- lexeme is [ %>]

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 449

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 4

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Last word in line 29
- Add LF

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 5

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 450

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
  - And remaining whitespace 1
+-- {{{ - Column 05 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   } %>
|  -----^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Set Index to 450
Set Line to 29
Set Column to 5

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Type = 'elmt'
    Indent = ''
    End = @{
        Line = 29
        Column = 5
        Index = 450
    }
    Start = @{
        Line = 27
        Column = 5
        Index = 393
    }
    Content = ' foreach ($item in $items) {
     Write-Output $item
} '
    Index = 15
    RemoveIndent = $false
    Prefix = ''
    Suffix = ''
    RemoveNewLine = $false
    RemainingWhiteSpace = ''
}

Creating Token 15: TokenInfo :
 @{
    PSTypeName = 'Stencil.TemplateToken.Elmt'
    RemainingWhiteSpace = ''
    End = @{
        Line = 29
        Column = 5
        Index = 450
    }
    Suffix = ''
    Content = ' foreach ($item in $items) {
     Write-Output $item
} '
    Start = @{
        Line = 27
        Column = 5
        Index = 393
    }
    RemoveNewLine = $false
    Length = 55
    Prefix = ''
    Type = 'ELMT'
    Indent = ''
    RemoveIndent = $false
    Index = 15
}


--------------------------------------------------------------------------------
-- Begin Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
This token is type Elmt

--------------------------------------------------------------------------------
-- End Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 451
Set Line to 29
Set Column to 6

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
--}}} --
- Store current word as prevWord
Finished scanning word [%>]
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 30 --
No Carriage Return found
Current line: ''
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 1 words
-- {{{ -Word '' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   
|  -^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (97) scanned in the input so far
|- Index:     16
|- Line:      30
|- Cursor:    450
|- Column:    1
|- ---
|- Start:    Line: 29:6 - Index 451
|- End:      Line: 29:5 - Index 450
|- ---
|- This is word 1 of 1 in this line
|- Is first word:  True
|- Is last word:  True
|- Previous word:  [%>]
|- Current word:   [] <---
|- Next word:      []
|- ---
|- State:     CLOSE
|- Content:   []
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '' for matches
-- {{{ SCAN MATCH: space character --

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 451

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 2

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
-- }}} --
- Store current word as prevWord
Finished scanning word []
-- }}} --

END OF LINE
-- }}} --
-- {{{ - Line 31 --
- Last line in content
No Carriage Return found
Current line: '<%-\ INCLUDE\ 'section-footer\.pst1'\ -Test1\ -Encoding\ UTF8\ %>'
- Found whitespace at end of this line
-- {{{ Remaining :: default --
-- }}} --
Split line into 7 words
-- {{{ -Word '<%-' --
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%- INCLUDE 'section-footer.pst1' -Test1 -Encoding UTF8 %>
|  -^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (98) scanned in the input so far
|- Index:     16
|- Line:      31
|- Cursor:    451
|- Column:    1
|- ---
|- Start:    Line: 29:6 - Index 451
|- End:      Line: 29:5 - Index 450
|- ---
|- This is word 1 of 7 in this line
|- Is first word:  True
|- Is last word:  False
|- Previous word:  []
|- Current word:   [<%-] <---
|- Next word:      ['section-footer.pst1']
|- ---
|- State:     CLOSE
|- Content:   [ ]
|- Prefix:    []
|- Suffix:    []
-- }}} --
Scanning current word '<%-' for matches
-- {{{ SCAN MATCH: Start tag --
- Characters found after start tag
Characters found is a Prefix
Check condition when state is CLOSE
-- {{{ START TAG :: default --
There is content from the previous block.  Create token
- Set End position for the previous content before advancing
+-- {{{ - Column 01 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%- INCLUDE 'section-footer.pst1' -Test1 -Encoding UTF8 %>
|  -^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Set Index to 451
Set Line to 31
Set Column to 1

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Type = 'text'
    Indent = ''
    End = @{
        Line = 31
        Column = 1
        Index = 451
    }
    Start = @{
        Line = 29
        Column = 6
        Index = 451
    }
    Content = ' '
    Index = 16
    RemoveIndent = $false
    Prefix = ''
    Suffix = ''
    RemoveNewLine = $false
    RemainingWhiteSpace = ''
}


--------------------------------------------------------------------------------
-- Begin New-TextToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End New-TextToken
--------------------------------------------------------------------------------
Creating Token 16: TokenInfo :
 @{
    PSTypeName = 'Stencil.Template.TextToken'
    RemainingWhiteSpace = ''
    End = @{
        Line = 31
        Column = 1
        Index = 451
    }
    Suffix = ''
    Content = ' '
    Start = @{
        Line = 29
        Column = 6
        Index = 451
    }
    RemoveNewLine = $false
    Length = 1
    Prefix = ''
    Type = 'TEXT'
    Indent = ''
    RemoveIndent = $false
    Index = 16
}


--------------------------------------------------------------------------------
-- Begin Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
This token is type TextToken
Creating Text section
Token content: ' '
- Block text is [" " | Write-Output]

--------------------------------------------------------------------------------
-- End Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 454

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 4

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------
+-- {{{ - Column 04 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%- INCLUDE 'section-footer.pst1' -Test1 -Encoding UTF8 %>
|  ----^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 454
Set Line to 31
Set Column to 4

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: CLOSE -> OPEN
-- }}} --
-- }}} --
- Store current word as prevWord
Finished scanning word [<%-]
-- }}} --

-- {{{ -Word 'INCLUDE' --
+-- {{{ - Column 04 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%- INCLUDE 'section-footer.pst1' -Test1 -Encoding UTF8 %>
|  ----^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (99) scanned in the input so far
|- Index:     17
|- Line:      31
|- Cursor:    454
|- Column:    4
|- ---
|- Start:    Line: 31:4 - Index 454
|- End:      Line: 31:1 - Index 451
|- ---
|- This is word 2 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [<%-]
|- Current word:   [INCLUDE] <---
|- Next word:      [-Test1]
|- ---
|- State:     OPEN
|- Content:   []
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word 'INCLUDE' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is OPEN
- state condition: OPEN
STATE CHANGE: OPEN -> ELMT

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 462

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 12

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [INCLUDE]
-- }}} --

-- {{{ -Word ''section-footer\.pst1'' --
+-- {{{ - Column 12 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%- INCLUDE 'section-footer.pst1' -Test1 -Encoding UTF8 %>
|  ------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (100) scanned in the input so far
|- Index:     17
|- Line:      31
|- Cursor:    462
|- Column:    12
|- ---
|- Start:    Line: 31:4 - Index 454
|- End:      Line: 31:1 - Index 451
|- ---
|- This is word 3 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [INCLUDE]
|- Current word:   ['section-footer.pst1'] <---
|- Next word:      [-Encoding]
|- ---
|- State:     ELMT
|- Content:   [ INCLUDE]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word ''section-footer.pst1'' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 484

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 34

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word ['section-footer.pst1']
-- }}} --

-- {{{ -Word '-Test1' --
+-- {{{ - Column 34 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%- INCLUDE 'section-footer.pst1' -Test1 -Encoding UTF8 %>
|  ----------------------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (101) scanned in the input so far
|- Index:     17
|- Line:      31
|- Cursor:    484
|- Column:    34
|- ---
|- Start:    Line: 31:4 - Index 454
|- End:      Line: 31:1 - Index 451
|- ---
|- This is word 4 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  ['section-footer.pst1']
|- Current word:   [-Test1] <---
|- Next word:      [UTF8]
|- ---
|- State:     ELMT
|- Content:   [ INCLUDE 'section-footer.pst1']
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word '-Test1' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 491

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 41

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [-Test1]
-- }}} --

-- {{{ -Word '-Encoding' --
+-- {{{ - Column 41 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%- INCLUDE 'section-footer.pst1' -Test1 -Encoding UTF8 %>
|  -----------------------------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (102) scanned in the input so far
|- Index:     17
|- Line:      31
|- Cursor:    491
|- Column:    41
|- ---
|- Start:    Line: 31:4 - Index 454
|- End:      Line: 31:1 - Index 451
|- ---
|- This is word 5 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [-Test1]
|- Current word:   [-Encoding] <---
|- Next word:      [%>]
|- ---
|- State:     ELMT
|- Content:   [ INCLUDE 'section-footer.pst1' -Test1]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word '-Encoding' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 501

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 51

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [-Encoding]
-- }}} --

-- {{{ -Word 'UTF8' --
+-- {{{ - Column 51 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%- INCLUDE 'section-footer.pst1' -Test1 -Encoding UTF8 %>
|  ---------------------------------------------------^
+------------------------------------------------------------------------------- }}} --+
-- {{{ info block --
| This is word (103) scanned in the input so far
|- Index:     17
|- Line:      31
|- Cursor:    501
|- Column:    51
|- ---
|- Start:    Line: 31:4 - Index 454
|- End:      Line: 31:1 - Index 451
|- ---
|- This is word 6 of 7 in this line
|- Is first word:  False
|- Is last word:  False
|- Previous word:  [-Encoding]
|- Current word:   [UTF8] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ INCLUDE 'section-footer.pst1' -Test1 -Encoding]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word 'UTF8' for matches
-- {{{ SCAN MATCH: 'default' --
Check condition when state is ELMT
- state condition: default

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 506

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 56

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Adding to content
-- }}} --
- Store current word as prevWord
Finished scanning word [UTF8]
-- }}} --

-- {{{ -Word '%>' --
+-- {{{ - Column 56 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%- INCLUDE 'section-footer.pst1' -Test1 -Encoding UTF8 %>
|  --------------------------------------------------------^
+------------------------------------------------------------------------------- }}} --+
- Last word in line
-- {{{ info block --
| This is word (104) scanned in the input so far
|- Index:     17
|- Line:      31
|- Cursor:    506
|- Column:    56
|- ---
|- Start:    Line: 31:4 - Index 454
|- End:      Line: 31:1 - Index 451
|- ---
|- This is word 7 of 7 in this line
|- Is first word:  False
|- Is last word:  True
|- Previous word:  [UTF8]
|- Current word:   [%>] <---
|- Next word:      []
|- ---
|- State:     ELMT
|- Content:   [ INCLUDE 'section-footer.pst1' -Test1 -Encoding UTF8]
|- Prefix:    [-]
|- Suffix:    []
-- }}} --
Scanning current word '%>' for matches
-- {{{ SCAN MATCH: End Tag --
-- No characters found before end tag
Check condition when state is ELMT
-- {{{ END TAG :: default --
- lexeme is [ %>]

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 509

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 59

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
- Last word in line 31
- Add LF

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 60

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Move-Position
--------------------------------------------------------------------------------
Pointer now set to 510

--------------------------------------------------------------------------------
-- End Move-Position
--------------------------------------------------------------------------------
  - And remaining whitespace 1
+-- {{{ - Column 60 ----------------------------------------------------------------+
|- 0    5   10    15   20   25   30   35   40   45   50   55   60   65   70   75   80
|- |....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|....|
|   <%- INCLUDE 'section-footer.pst1' -Test1 -Encoding UTF8 %>
|  ------------------------------------------------------------^
+------------------------------------------------------------------------------- }}} --+

--------------------------------------------------------------------------------
-- Begin Set-EndPosition
--------------------------------------------------------------------------------
Set Index to 510
Set Line to 31
Set Column to 60

--------------------------------------------------------------------------------
-- End Set-EndPosition
--------------------------------------------------------------------------------
**** Create Token ****

--------------------------------------------------------------------------------
-- Begin New-TemplateToken
Received : @{
    Type = 'elmt'
    Indent = ''
    End = @{
        Line = 31
        Column = 60
        Index = 510
    }
    Start = @{
        Line = 31
        Column = 4
        Index = 454
    }
    Content = ' INCLUDE ''section-footer.pst1'' -Test1 -Encoding UTF8 '
    Index = 17
    RemoveIndent = $false
    Prefix = '-'
    Suffix = ''
    RemoveNewLine = $false
    RemainingWhiteSpace = ''
}

Creating Token 17: TokenInfo :
 @{
    PSTypeName = 'Stencil.TemplateToken.Elmt'
    RemainingWhiteSpace = ''
    End = @{
        Line = 31
        Column = 60
        Index = 510
    }
    Suffix = ''
    Content = ' INCLUDE ''section-footer.pst1'' -Test1 -Encoding UTF8 '
    Start = @{
        Line = 31
        Column = 4
        Index = 454
    }
    RemoveNewLine = $false
    Length = 53
    Prefix = '-'
    Type = 'ELMT'
    Indent = ''
    RemoveIndent = $true
    Index = 17
}


--------------------------------------------------------------------------------
-- Begin Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
This token is type Elmt

--------------------------------------------------------------------------------
-- End Convert-TokenToTemplateInfo
--------------------------------------------------------------------------------
-- End New-TemplateToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End Reset-TokenOption
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- Begin Set-StartPosition
--------------------------------------------------------------------------------
Set Index to 511
Set Line to 31
Set Column to 61

--------------------------------------------------------------------------------
-- End Set-StartPosition
--------------------------------------------------------------------------------
STATE CHANGE: ELMT -> CLOSE
--}}} --
- Store current word as prevWord
Finished scanning word [%>]
-- }}} --

END OF LINE
-- }}} --
END OF INPUT
- There is no remaining content

--------------------------------------------------------------------------------
-- End Convert-StringToToken
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- End ConvertFrom-StencilTemplate
--------------------------------------------------------------------------------
